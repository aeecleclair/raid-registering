(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{51483:function(e,n,r){Promise.resolve().then(r.bind(r,22619))},22619:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return E}});var t=r(57437),i=r(85115),l=r(89733),s=r(2265),a=r(77209),o=r(48185);let d=e=>{let{label:n,children:r}=e;return(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,t.jsx)(o.ll,{className:"text-sm font-medium",children:n})}),(0,t.jsx)(o.aY,{children:r})]})};var c=r(93363),u=r(31014),m=r(39343),p=r(59772),x=r(59805),f=r(91833);let h=()=>{var e,n;let{information:r,updateInformation:i}=(0,x.u)(),[o,h]=(0,s.useState)(!1),[v,g]=(0,s.useState)(!1),j=p.z.object({email:p.z.string().email({message:"Veuillez renseigner une adresse email valide"})}),b=(0,m.cI)({resolver:(0,u.F)(j),defaultValues:{email:null!==(e=null==r?void 0:r.contact)&&void 0!==e?e:void 0}});return(0,t.jsx)(c.l0,{...b,children:(0,t.jsx)("form",{onSubmit:b.handleSubmit(function(e){g(!0),i({...r,contact:e.email},()=>{g(!1),h(!1),b.reset({email:e.email})})}),children:(0,t.jsx)(d,{label:"Contact",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Wi,{control:b.control,name:"email",render:e=>{let{field:n}=e;return(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"items-center gap-4",children:[(0,t.jsx)(c.NI,{children:(0,t.jsx)(a.I,{...n})}),(0,t.jsx)(c.zG,{})]})})}}),(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(l.z,{variant:"outline",className:"mt-2 mr-2 w-[120px]",onClick:()=>{h(!1)},children:"Annuler"}),(0,t.jsx)(f.f,{className:"mt-2 w-[120px]",type:"submit",label:"Valider",isLoading:v})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:null!==(n=null==r?void 0:r.contact)&&void 0!==n?n:(0,t.jsx)("span",{children:"Aucun contact"})}),(0,t.jsx)(l.z,{variant:"outline",className:"mt-4 w-[120px]",type:"button",onClick:function(){h(!o)},children:"Modifier"})]})})})})};var v=r(84980),g=r(40133);let j=()=>{let{token:e,userId:n}=(0,g.a)(),{data:r,isLoading:t,refetch:i}=(0,v.L4N)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:null!==n,retry:0,queryHash:"getRaidDriveFolder"}),{mutate:l,isPending:s}=(0,v.RoB)({});return{driveFolder:r,isLoading:t,refetchDriveFolder:i,updateDriveFolder:(n,r)=>{l({body:n,headers:{Authorization:"Bearer ".concat(e)}},{onSettled:()=>{i(),r()}})},isUpdateLoading:s}},b=()=>{let{driveFolder:e,updateDriveFolder:n}=j(),[r,i]=(0,s.useState)(!1),[o,x]=(0,s.useState)(!1),h=p.z.object({parent_folder_id:p.z.string().min(1,{message:"Veuillez renseigner un dossier de drive"})}),v=(0,m.cI)({resolver:(0,u.F)(h),defaultValues:{parent_folder_id:(null==e?void 0:e.parent_folder_id)?"https://drive.google.com/drive/u/0/folders/"+(null==e?void 0:e.parent_folder_id):void 0}});return(0,t.jsx)(c.l0,{...v,children:(0,t.jsx)("form",{onSubmit:v.handleSubmit(function(e){x(!0);let r=e.parent_folder_id.split("/folders/").pop();r?(r.endsWith("/")&&(r=r.slice(0,-1)),n({parent_folder_id:r},()=>{x(!1),i(!1),v.reset({parent_folder_id:e.parent_folder_id})})):x(!1)}),children:(0,t.jsx)(d,{label:"Lien du dossier Drive",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Wi,{control:v.control,name:"parent_folder_id",render:e=>{let{field:n}=e;return(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"items-center gap-4",children:[(0,t.jsx)(c.NI,{children:(0,t.jsx)(a.I,{...n})}),(0,t.jsx)(c.zG,{})]})})}}),(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(l.z,{variant:"outline",className:"mt-2 mr-2 w-[120px]",onClick:()=>{i(!1)},children:"Annuler"}),(0,t.jsx)(f.f,{className:"mt-2 w-[120px]",type:"submit",label:"Valider",isLoading:o})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"".concat((null==e?void 0:e.parent_folder_id)&&"text-green-700 hover:text-green-800 underline"," text-2xl font-bold h-8"),children:(null==e?void 0:e.parent_folder_id)?(0,t.jsx)("a",{target:"_blank",href:"https://drive.google.com/drive/u/0/folders/"+(null==e?void 0:e.parent_folder_id),children:"Lien du dossier Drive"}):(0,t.jsx)("span",{children:"Aucun lien"})}),(0,t.jsx)(l.z,{variant:"outline",className:"mt-4 w-[120px]",type:"button",onClick:function(){i(!r)},children:"Modifier"})]})})})})};var _=r(5495),w=r(54662),y=r(39589),N=r.n(y),z=r(35265);let C=()=>{var e,n,r,i,a,o,h,v,g,j,b,y,C,F,S,k,V,P,D,I;let L;let{information:R,updateInformation:Q}=(0,x.u)(),[A,M]=(0,s.useState)(!1),[W,J]=(0,s.useState)(!1),B=p.z.object({president:p.z.object({firstname:p.z.string().min(1,{message:"Veuillez renseigner votre pr\xe9nom"}),name:p.z.string().min(1,{message:"Veuillez renseigner votre nom"}),phone:p.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).refine(e=>"+33"===e||""===e||!(e.length<10)&&!(e.length>14),{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"})}).partial(),volunteer_responsible:p.z.object({firstname:p.z.string().min(1,{message:"Veuillez renseigner votre pr\xe9nom"}),name:p.z.string().min(1,{message:"Veuillez renseigner votre nom"}),phone:p.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).refine(e=>"+33"===e||""===e||!(e.length<10)&&!(e.length>14),{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"})}).partial(),security_responsible:p.z.object({firstname:p.z.string().min(1,{message:"Veuillez renseigner votre pr\xe9nom"}),name:p.z.string().min(1,{message:"Veuillez renseigner votre nom"}),phone:p.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).refine(e=>"+33"===e||""===e||!(e.length<10)&&!(e.length>14),{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"})}).partial(),rescue:p.z.object({phone:p.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).refine(e=>"+33"===e||""===e||!(e.length<10)&&!(e.length>14),{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"})}).partial()});function Y(e){return e?e.startsWith("0")?"+33 ".concat(e.slice(1)):e:""}let G=(0,m.cI)({resolver:(0,u.F)(B),defaultValues:{president:{firstname:null!==(b=null==R?void 0:null===(e=R.president)||void 0===e?void 0:e.firstname)&&void 0!==b?b:void 0,name:null!==(y=null==R?void 0:null===(n=R.president)||void 0===n?void 0:n.name)&&void 0!==y?y:void 0,phone:Y(null!==(C=null==R?void 0:null===(r=R.president)||void 0===r?void 0:r.phone)&&void 0!==C?C:"")},volunteer_responsible:{firstname:null!==(F=null==R?void 0:null===(i=R.volunteer_responsible)||void 0===i?void 0:i.firstname)&&void 0!==F?F:void 0,name:null!==(S=null==R?void 0:null===(a=R.volunteer_responsible)||void 0===a?void 0:a.name)&&void 0!==S?S:void 0,phone:Y(null!==(k=null==R?void 0:null===(o=R.volunteer_responsible)||void 0===o?void 0:o.phone)&&void 0!==k?k:"")},security_responsible:{firstname:null!==(V=null==R?void 0:null===(h=R.security_responsible)||void 0===h?void 0:h.firstname)&&void 0!==V?V:void 0,name:null!==(P=null==R?void 0:null===(v=R.security_responsible)||void 0===v?void 0:v.name)&&void 0!==P?P:void 0,phone:Y(null!==(D=null==R?void 0:null===(g=R.security_responsible)||void 0===g?void 0:g.phone)&&void 0!==D?D:"")},rescue:{phone:Y(null!==(I=null==R?void 0:null===(j=R.rescue)||void 0===j?void 0:j.phone)&&void 0!==I?I:"")}}});return(0,t.jsxs)(w.Vq,{open:W,onOpenChange:J,children:[(0,t.jsxs)(d,{label:"Personnes \xe0 contacter en cas d'urgence",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"".concat((L=0,G.watch("president.firstname")&&G.watch("president.name")&&G.watch("president.phone")&&L++,G.watch("volunteer_responsible.firstname")&&G.watch("volunteer_responsible.name")&&G.watch("volunteer_responsible.phone")&&L++,G.watch("security_responsible.firstname")&&G.watch("security_responsible.name")&&G.watch("security_responsible.phone")&&L++,G.watch("rescue.phone")&&L++,L),"/4 remplis")}),(0,t.jsx)(w.hg,{asChild:!0,children:(0,t.jsx)(l.z,{variant:"outline",className:"mt-4 w-[120px]",type:"button",onClick:function(){J(e=>!e)},children:"Modifier"})})]}),(0,t.jsxs)(w.cZ,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(w.fK,{children:[(0,t.jsx)(w.$N,{children:"Contacts importants"}),(0,t.jsx)(w.Be,{children:"Les personnes que les participants doivent contacter en cas d'urgence."})]}),(0,t.jsx)(c.l0,{...G,children:(0,t.jsxs)("form",{onSubmit:G.handleSubmit(function(e){M(!0),Q({...R,president:{firstname:e.president.firstname,name:e.president.name,phone:e.president.phone},volunteer_responsible:{firstname:e.volunteer_responsible.firstname,name:e.volunteer_responsible.name,phone:e.volunteer_responsible.phone},security_responsible:{firstname:e.security_responsible.firstname,name:e.security_responsible.name,phone:e.security_responsible.phone},rescue:{phone:e.rescue.phone}},()=>{M(!1),J(!1),G.reset({president:{firstname:e.president.firstname,name:e.president.name,phone:Y(e.president.phone)},volunteer_responsible:{firstname:e.volunteer_responsible.firstname,name:e.volunteer_responsible.name,phone:Y(e.volunteer_responsible.phone)},security_responsible:{firstname:e.security_responsible.firstname,name:e.security_responsible.name,phone:Y(e.security_responsible.phone)},rescue:{phone:Y(e.rescue.phone)}})})}),children:[(0,t.jsxs)(z.UQ,{type:"single",collapsible:!0,children:[(0,t.jsxs)(z.Qd,{value:"president",children:[(0,t.jsx)(z.o4,{children:"Pr\xe9sident\xb7e"}),(0,t.jsx)(z.vF,{children:(0,t.jsxs)("div",{className:"grid gap-6 py-4 mr-2",children:[(0,t.jsx)(_.P,{form:G,label:"Pr\xe9nom",id:"president.firstname",placeholder:"Pr\xe9nom"}),(0,t.jsx)(_.P,{form:G,label:"Nom",id:"president.name",placeholder:"Nom"}),(0,t.jsx)(c.Wi,{control:G.control,name:"president.phone",render:()=>(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,t.jsx)(c.lX,{className:"text-right",children:"T\xe9l\xe9phone"}),(0,t.jsxs)("div",{className:"col-span-4",children:[(0,t.jsx)(c.zG,{}),(0,t.jsx)(m.Qr,{name:"president.phone",control:G.control,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,t.jsx)(N(),{value:r,onChange:n,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})})]})})]}),(0,t.jsxs)(z.Qd,{value:"volunteer_responsible",children:[(0,t.jsx)(z.o4,{children:"Responsable b\xe9n\xe9vole"}),(0,t.jsx)(z.vF,{children:(0,t.jsxs)("div",{className:"grid gap-6 py-4 mr-2",children:[(0,t.jsx)(_.P,{form:G,label:"Pr\xe9nom",id:"volunteer_responsible.firstname",placeholder:"Pr\xe9nom"}),(0,t.jsx)(_.P,{form:G,label:"Nom",id:"volunteer_responsible.name",placeholder:"Nom"}),(0,t.jsx)(c.Wi,{control:G.control,name:"volunteer_responsible.phone",render:()=>(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,t.jsx)(c.lX,{className:"text-right",children:"T\xe9l\xe9phone"}),(0,t.jsxs)("div",{className:"col-span-4",children:[(0,t.jsx)(c.zG,{}),(0,t.jsx)(m.Qr,{name:"volunteer_responsible.phone",control:G.control,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,t.jsx)(N(),{value:r,onChange:n,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})})]})})]}),(0,t.jsxs)(z.Qd,{value:"security_responsible",children:[(0,t.jsx)(z.o4,{children:"Responsable S\xe9curit\xe9"}),(0,t.jsx)(z.vF,{children:(0,t.jsxs)("div",{className:"grid gap-6 py-4 mr-2",children:[(0,t.jsx)(_.P,{form:G,label:"Pr\xe9nom",id:"security_responsible.firstname",placeholder:"Pr\xe9nom"}),(0,t.jsx)(_.P,{form:G,label:"Nom",id:"security_responsible.name",placeholder:"Nom"}),(0,t.jsx)(c.Wi,{control:G.control,name:"security_responsible.phone",render:()=>(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,t.jsx)(c.lX,{className:"text-right",children:"T\xe9l\xe9phone"}),(0,t.jsxs)("div",{className:"col-span-4",children:[(0,t.jsx)(c.zG,{}),(0,t.jsx)(m.Qr,{name:"security_responsible.phone",control:G.control,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,t.jsx)(N(),{value:r,onChange:n,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})})]})})]}),(0,t.jsxs)(z.Qd,{value:"rescue",children:[(0,t.jsx)(z.o4,{children:"Secouristes"}),(0,t.jsx)(z.vF,{children:(0,t.jsx)("div",{className:"grid gap-6 py-4 mr-2",children:(0,t.jsx)(c.Wi,{control:G.control,name:"rescue.phone",render:()=>(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,t.jsx)(c.lX,{className:"text-right",children:"T\xe9l\xe9phone"}),(0,t.jsxs)("div",{className:"col-span-4",children:[(0,t.jsx)(c.zG,{}),(0,t.jsx)(m.Qr,{name:"rescue.phone",control:G.control,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,t.jsx)(N(),{value:r,onChange:n,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})})})})]})]}),(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(l.z,{variant:"outline",className:"mt-2 mr-2 w-[120px]",onClick:()=>{J(!1)},children:"Annuler"}),(0,t.jsx)(f.f,{className:"mt-2 w-[120px]",type:"submit",label:"Valider",isLoading:A})]})]})})]})]})};var F=r(74546),S=r(86465),k=r(63143),V=r(39202);let P=()=>{let{information:e,updateInformation:n}=(0,x.u)(),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)((null==e?void 0:e.raid_registering_end_date)?(0,F.Q)(e.raid_registering_end_date):void 0);function m(){r?(o(!0),n({...e,raid_registering_end_date:(0,V.uv)(c)},()=>{o(!1),i(!1)})):i(!r)}return(0,t.jsx)(d,{label:"Date de la cl\xf4ture des inscriptions",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.M,{date:c,setDate:u,fromDate:(0,S.B)(new Date,-1),toDate:(0,S.B)(new Date,1)}),(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(l.z,{variant:"outline",className:"mt-2 mr-2 w-[120px]",onClick:()=>{i(!1)},children:"Annuler"}),(0,t.jsx)(f.f,{className:"mt-2 w-[120px]",isLoading:a,onClick:m,label:"Valider"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.raid_registering_end_date)?(0,V.p6)(e.raid_registering_end_date):(0,t.jsx)("span",{children:"Date non d\xe9finie"})}),(0,t.jsx)(l.z,{variant:"outline",className:"mt-4 w-[120px]",onClick:m,type:"button",children:"Modifier"})]})})};var D=r(24241),I=r(13415),L=r(37440),R=r(21413),Q=r(69081);function A(e){let{dateRange:n,setDateRange:r,defaultDate:i}=e;return(0,t.jsxs)(R.J2,{children:[(0,t.jsx)(R.xo,{asChild:!0,children:(0,t.jsxs)(l.z,{variant:"outline",className:(0,L.cn)("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),type:"button",children:[(0,t.jsx)(D.Z,{className:"mr-2 h-4 w-4"}),n&&n.from&&n.to?(0,V._Q)(n.from.toString(),n.to.toString()):(0,t.jsx)("span",{children:"S\xe9lectionner une p\xe9riode"})]})}),(0,t.jsx)(R.yk,{className:"w-auto p-0",children:(0,t.jsx)(Q.f,{mode:"range",selected:n,onSelect:r,locale:I.fr,captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-1,toYear:new Date().getFullYear()+1,defaultMonth:i,initialFocus:!0})})]})}let M=()=>{let{information:e,updateInformation:n}=(0,x.u)(),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)((null==e?void 0:e.raid_start_date)&&(null==e?void 0:e.raid_end_date)?{from:(0,F.Q)(e.raid_start_date),to:(0,F.Q)(e.raid_end_date)}:void 0);function m(){r?(o(!0),n({...e,raid_start_date:(0,V.uv)(null==c?void 0:c.from),raid_end_date:(0,V.uv)(null==c?void 0:c.to)},()=>{o(!1),i(!1)})):i(!r)}return(0,t.jsx)(d,{label:"Date du raid",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A,{dateRange:c,setDateRange:u}),(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(l.z,{variant:"outline",className:"mt-2 mr-2 w-[120px]",onClick:()=>{i(!1)},children:"Annuler"}),(0,t.jsx)(f.f,{className:"mt-2 w-[120px]",onClick:m,isLoading:a,label:"Valider"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.raid_start_date)&&(null==e?void 0:e.raid_end_date)?(0,V._Q)(e.raid_start_date.toString(),e.raid_end_date.toString()):(0,t.jsx)("span",{children:"P\xe9riode non d\xe9finie"})}),(0,t.jsx)(l.z,{variant:"outline",className:"mt-4 w-[120px]",onClick:m,children:"Modifier"})]})})};var W=r(31283),J=r(42001);let B=e=>{let{onChange:n,value:r}=e;return(0,t.jsx)(J.ZP,{intlConfig:{locale:"fr-FR",currency:"EUR"},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",onValueChange:n,allowNegativeValue:!1,value:r})},Y=()=>{let{price:e,updatePrice:n}=(0,W.k)(),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1),x=p.z.object({student_price:p.z.number().positive()}),h=(0,m.cI)({resolver:(0,u.F)(x),defaultValues:{student_price:(null==e?void 0:e.student_price)?e.student_price/100:void 0}});return(0,t.jsx)(c.l0,{...h,children:(0,t.jsx)("form",{onSubmit:h.handleSubmit(function(r){o(!0),n({...e,student_price:100*r.student_price},()=>{o(!1),i(!1),h.reset({student_price:r.student_price})})}),children:(0,t.jsx)(d,{label:"Prix du Raid",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Wi,{control:h.control,name:"student_price",render:e=>{let{field:n}=e;return(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"items-center gap-4",children:[(0,t.jsx)(c.NI,{children:(0,t.jsx)(B,{onChange:(e,r,t)=>n.onChange(null==t?void 0:t.float),value:n.value})}),(0,t.jsx)(c.zG,{})]})})}}),(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(l.z,{variant:"outline",className:"mt-2 mr-2 w-[120px]",onClick:()=>{i(!1)},children:"Annuler"}),(0,t.jsx)(f.f,{className:"mt-2 w-[120px]",type:"submit",label:"Valider",isLoading:a})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.student_price)?"".concat((e.student_price/100).toFixed(2)," €"):(0,t.jsx)("span",{children:"Prix non fix\xe9"})}),(0,t.jsx)(l.z,{variant:"outline",className:"mt-4 w-[120px]",type:"button",onClick:function(){i(!r)},children:"Modifier"})]})})})})},G=()=>{let{price:e,updatePrice:n}=(0,W.k)(),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1),x=p.z.object({t_shirt_price:p.z.number().positive()}),h=(0,m.cI)({resolver:(0,u.F)(x),defaultValues:{t_shirt_price:(null==e?void 0:e.t_shirt_price)?e.t_shirt_price/100:void 0}});return(0,t.jsx)(c.l0,{...h,children:(0,t.jsx)("form",{onSubmit:h.handleSubmit(function(r){o(!0),n({...e,t_shirt_price:100*r.t_shirt_price},()=>{o(!1),i(!1),h.reset({t_shirt_price:r.t_shirt_price})})}),children:(0,t.jsx)(d,{label:"Prix du T-Shirt",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Wi,{control:h.control,name:"t_shirt_price",render:e=>{let{field:n}=e;return(0,t.jsx)(c.xJ,{children:(0,t.jsxs)("div",{className:"items-center gap-4",children:[(0,t.jsx)(c.NI,{children:(0,t.jsx)(B,{onChange:(e,r,t)=>n.onChange(null==t?void 0:t.float),value:n.value})}),(0,t.jsx)(c.zG,{})]})})}}),(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(l.z,{variant:"outline",className:"mt-2 mr-2 w-[120px]",onClick:()=>{i(!1)},children:"Annuler"}),(0,t.jsx)(f.f,{className:"mt-2 w-[120px]",type:"submit",label:"Valider",isLoading:a})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.t_shirt_price)?"".concat((e.t_shirt_price/100).toFixed(2)," €"):(0,t.jsx)("span",{children:"Prix non fix\xe9"})}),(0,t.jsx)(l.z,{variant:"outline",className:"mt-4 w-[120px]",type:"button",onClick:function(){i(!r)},children:"Modifier"})]})})})})};var q=r(17042),Z=r(16463),E=()=>{let{isAdmin:e}=(0,q.a)(),n=(0,Z.useRouter)();if(!e()){let e=new URL(window.location.href),r=e.pathname+e.search;n.replace("/?redirect=".concat(r))}return(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-muted/40",children:[(0,t.jsx)(i.D,{}),(0,t.jsx)("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8 mt-8",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsx)(o.ll,{children:"Informations"})}),(0,t.jsx)(o.aY,{children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 xl:grid-cols-3 gap-4 w-full grid-cols-1 max-md:p-8 max-md:gap-4",children:[(0,t.jsx)(P,{}),(0,t.jsx)(M,{}),(0,t.jsx)(h,{}),(0,t.jsx)(b,{}),(0,t.jsx)(Y,{}),(0,t.jsx)(G,{}),(0,t.jsx)(C,{})]})})]})})]})}},85115:function(e,n,r){"use strict";r.d(n,{D:function(){return p}});var t=r(57437),i=r(87138),l=r(42873),s=r(89733),a=r(19706),o=r(55936),d=r(28474),c=r(2183),u=r(17042),m=r(10223);let p=()=>{let{me:e}=(0,u.a)(),n=window.location.pathname;function r(e,r){let l=n===e;return(0,t.jsx)(i.default,{href:e,className:"".concat(l?"text-foreground":"text-muted-foreground"," transition-colors hover:text-foreground"),children:r})}function p(){return(0,t.jsxs)(t.Fragment,{children:[r("/admin","Tableau de bord"),r("/admin/teams","Equipes"),r("/admin/information","Informations")]})}return(0,t.jsxs)("header",{className:"sticky top-0 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6 z-10",children:[(0,t.jsx)("nav",{className:"hidden flex-col gap-6 text-lg font-medium md:flex md:flex-row md:items-center md:gap-5 md:text-sm lg:gap-6 mx-10 max-md:mx-0 w-full",children:p()}),(0,t.jsxs)(o.yo,{children:[(0,t.jsx)(o.aM,{asChild:!0,children:(0,t.jsxs)(s.z,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:[(0,t.jsx)(l.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,t.jsx)(o.ue,{side:"left",children:(0,t.jsx)("nav",{className:"grid gap-6 text-lg font-medium",children:p()})})]}),(0,t.jsx)("div",{className:"flex w-full items-center gap-4 md:ml-auto md:gap-2 lg:gap-4  mx-10 max-md:mx-0",children:(0,t.jsx)("div",{className:"flex flex-row ml-auto",children:(0,t.jsx)(a.nm,{children:(0,t.jsxs)(a.QP,{children:[(0,t.jsx)(a.rQ,{asChild:!0,children:(0,t.jsx)(s.z,{variant:"ghost",children:(null==e?void 0:e.firstname)===void 0||(null==e?void 0:e.name)===void 0?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(c.O,{className:"w-24 h-6"})}):(0,t.jsx)(t.Fragment,{children:e.firstname+" "+e.name})})}),(0,t.jsxs)(a.uE,{align:"end",children:[(0,t.jsx)(d.U,{}),(0,t.jsx)(a.yE,{}),(0,t.jsx)(m.s,{})]})]})})})})]})}},5495:function(e,n,r){"use strict";r.d(n,{P:function(){return s}});var t=r(57437),i=r(93363),l=r(77209);let s=e=>{let{form:n,label:r,id:s,placeholder:a}=e;return(0,t.jsx)(i.Wi,{control:n.control,name:s,render:e=>{let{field:n}=e;return(0,t.jsx)(i.xJ,{children:(0,t.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,t.jsx)(i.lX,{className:"text-right",children:r}),(0,t.jsxs)("div",{className:"col-span-4",children:[(0,t.jsx)(i.zG,{}),(0,t.jsx)(i.NI,{children:(0,t.jsx)(l.I,{placeholder:a,...n})})]})]})})}})}},69081:function(e,n,r){"use strict";r.d(n,{f:function(){return m}});var t=r(57437);r(2265);var i=r(70518),l=r(87592),s=r(16150),a=r(13415),o=r(37440),d=r(89733),c=r(2128),u=r(6460);function m(e){let{className:n,classNames:r,showOutsideDays:m=!0,...p}=e;return(0,t.jsx)(s._W,{showOutsideDays:m,className:(0,o.cn)("p-3",n),locale:a.fr,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium hidden",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,d.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,d.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",caption_dropdowns:"flex gap-1 items-center",...r},components:{IconLeft:e=>{let{...n}=e;return(0,t.jsx)(i.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...n}=e;return(0,t.jsx)(l.Z,{className:"h-4 w-4"})},Dropdown:e=>{var n,r;let{fromDate:i,fromMonth:l,fromYear:o,toDate:d,toMonth:m,toYear:p}=(0,s.kD)(),{goToMonth:x,currentMonth:f}=(0,s.HJ)();if("months"===e.name){let r=Array.from({length:12},(e,n)=>{let r=new Date(0,n);return{value:n.toString(),label:r.toLocaleString("default",{month:"long"})}});return(0,t.jsxs)(c.Ph,{value:null===(n=e.value)||void 0===n?void 0:n.toString(),onValueChange:e=>{let n=new Date(f);n.setMonth(parseInt(e)),x(n)},children:[(0,t.jsx)(c.i4,{children:(0,u.WU)(f,"MMM",{locale:a.fr})}),(0,t.jsx)(c.Bw,{children:r.map(e=>(0,t.jsx)(c.Ql,{value:e.value,children:e.label},e.value))})]})}{let n=o||(null==l?void 0:l.getFullYear())||(null==i?void 0:i.getFullYear()),s=p||(null==m?void 0:m.getFullYear())||(null==d?void 0:d.getFullYear());if(!n||!s)return(0,t.jsx)(t.Fragment,{});{let i=Array.from({length:s-n+1},(e,r)=>{let t=n+r;return{value:t.toString(),label:t.toString()}});return(0,t.jsxs)(c.Ph,{value:null===(r=e.value)||void 0===r?void 0:r.toString(),onValueChange:e=>{let n=new Date(f);n.setFullYear(parseInt(e)),x(n)},children:[(0,t.jsx)(c.i4,{children:f.getFullYear()}),(0,t.jsx)(c.Bw,{children:i.map(e=>(0,t.jsx)(c.Ql,{value:e.value,children:e.label},e.value))})]})}}}},...p})}m.displayName="Calendar"},63143:function(e,n,r){"use strict";r.d(n,{M:function(){return u}});var t=r(57437);r(2265);var i=r(6460),l=r(24241),s=r(13415),a=r(37440),o=r(21413),d=r(89733),c=r(69081);function u(e){let{date:n,setDate:r,defaultDate:u,fromDate:m,toDate:p}=e;return(0,t.jsxs)(o.J2,{children:[(0,t.jsx)(o.xo,{asChild:!0,children:(0,t.jsxs)(d.z,{variant:"outline",className:(0,a.cn)("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),type:"button",children:[(0,t.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),n?(0,i.WU)(n,"PPP",{locale:s.fr}):(0,t.jsx)("span",{children:"S\xe9lectionner une date"})]})}),(0,t.jsx)(o.yk,{className:"w-auto p-0",children:(0,t.jsx)(c.f,{mode:"single",selected:n,onSelect:r,locale:s.fr,captionLayout:"dropdown-buttons",fromDate:null!=m?m:new Date(1900),toDate:null!=p?p:new Date,defaultMonth:u,initialFocus:!0})})]})}},93363:function(e,n,r){"use strict";r.d(n,{NI:function(){return h},Wi:function(){return u},l0:function(){return d},lX:function(){return f},xJ:function(){return x},zG:function(){return v}});var t=r(57437),i=r(2265),l=r(71538),s=r(39343),a=r(37440),o=r(70402);let d=s.RV,c=i.createContext({}),u=e=>{let{...n}=e;return(0,t.jsx)(c.Provider,{value:{name:n.name},children:(0,t.jsx)(s.Qr,{...n})})},m=()=>{let e=i.useContext(c),n=i.useContext(p),{getFieldState:r,formState:t}=(0,s.Gc)(),l=r(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=n;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...l}},p=i.createContext({}),x=i.forwardRef((e,n)=>{let{className:r,...l}=e,s=i.useId();return(0,t.jsx)(p.Provider,{value:{id:s},children:(0,t.jsx)("div",{ref:n,className:(0,a.cn)("space-y-2",r),...l})})});x.displayName="FormItem";let f=i.forwardRef((e,n)=>{let{className:r,...i}=e,{error:l,formItemId:s}=m();return(0,t.jsx)(o._,{ref:n,className:(0,a.cn)(l&&"text-destructive",r),htmlFor:s,...i})});f.displayName="FormLabel";let h=i.forwardRef((e,n)=>{let{...r}=e,{error:i,formItemId:s,formDescriptionId:a,formMessageId:o}=m();return(0,t.jsx)(l.g7,{ref:n,id:s,"aria-describedby":i?"".concat(a," ").concat(o):"".concat(a),"aria-invalid":!!i,...r})});h.displayName="FormControl",i.forwardRef((e,n)=>{let{className:r,...i}=e,{formDescriptionId:l}=m();return(0,t.jsx)("p",{ref:n,id:l,className:(0,a.cn)("text-sm text-muted-foreground",r),...i})}).displayName="FormDescription";let v=i.forwardRef((e,n)=>{let{className:r,children:i,...l}=e,{error:s,formMessageId:o}=m(),d=s?String(null==s?void 0:s.message):i;return d?(0,t.jsx)("p",{ref:n,id:o,className:(0,a.cn)("text-sm font-medium text-destructive",r),...l,children:d}):null});v.displayName="FormMessage"},70402:function(e,n,r){"use strict";r.d(n,{_:function(){return d}});var t=r(57437),i=r(2265),l=r(38364),s=r(12218),a=r(37440);let o=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,n)=>{let{className:r,...i}=e;return(0,t.jsx)(l.f,{ref:n,className:(0,a.cn)(o(),r),...i})});d.displayName=l.f.displayName},59805:function(e,n,r){"use strict";r.d(n,{u:function(){return l}});var t=r(84980),i=r(40133);let l=()=>{let{token:e,userId:n}=(0,i.a)(),{data:r,isLoading:l,refetch:s}=(0,t.THV)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:null!==n,retry:0,queryHash:"getRaidInformation"}),{mutate:a,isPending:o}=(0,t.Arm)({});return{information:r,isLoading:l,refetchInformation:s,updateInformation:(n,r)=>{a({body:n,headers:{Authorization:"Bearer ".concat(e)}},{onSettled:()=>{s(),r()}})},isUpdateLoading:o}}},31283:function(e,n,r){"use strict";r.d(n,{k:function(){return l}});var t=r(84980),i=r(40133);let l=()=>{let{token:e,userId:n}=(0,i.a)(),{data:r,isLoading:l,refetch:s}=(0,t.De1)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:null!==n,retry:0,queryHash:"getRaidPrice"}),{mutate:a,isPending:o}=(0,t._Jg)({});return{price:r,isLoading:l,refetchPrice:s,updatePrice:(n,r)=>{a({body:n,headers:{Authorization:"Bearer ".concat(e)}},{onSettled:()=>{s(),r()}})},isUpdateLoading:o}}}},function(e){e.O(0,[310,422,756,629,792,547,491,336,123,33,840,425,678,971,23,744],function(){return e(e.s=51483)}),_N_E=e.O()}]);