(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1827:function(e,t,l){Promise.resolve().then(l.bind(l,66863))},66863:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return eU}});var a,i,s=l(57437),n=l(15671),r=l(29908),o=l(77147),d=l(425),c=l(68855);let u=()=>{let{token:e}=(0,c.a)(),{mutate:t,isPending:l,isSuccess:a}=(0,d.KH8)({}),{mutate:i,isPending:s,isSuccess:n}=(0,d.w2w)({});return{createInviteToken:(l,a)=>{t({headers:{Authorization:"Bearer ".concat(e)},pathParams:{teamId:l}},{onSuccess(e,t,l){a(e)}})},isCreationLoading:l,isCreationSuccess:a,joinTeam:(t,l)=>{i({headers:{Authorization:"Bearer ".concat(e)},pathParams:{token:t}},{onSettled:(e,t)=>{console.log(e,t),l()}})},isJoinLoading:s,isJoinSuccess:n}};var m=l(2265),x=l(1800);let p=e=>{let{team:t}=e,{createInviteToken:l,isCreationLoading:a}=u(),[i,d]=(0,m.useState)(null);return(0,s.jsx)(n.Zb,{className:"w-full",children:(0,s.jsx)(n.aY,{className:"w-full h-full",children:(0,s.jsx)("div",{className:"flex m-auto h-full mt-3 flex-col",children:(0,s.jsxs)("div",{className:"flex m-auto flex-col items-center",children:[(0,s.jsx)(x.f,{isLoading:a,onClick:function(){void 0!==t&&l(t.id,async e=>{let t="".concat("https://raid-registering.myecl.fr/","?invite=").concat(e.token);d(t);try{await navigator.clipboard.writeText(t),(0,o.Am)({title:"Invitation envoy\xe9e",description:"Le lien d'invitation a \xe9t\xe9 copi\xe9 dans le presse-papier."})}catch(e){(0,o.Am)({variant:"destructive",title:"Erreur",description:"Impossible de copier le lien d'invitation dans le presse-papier."})}})},label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.b9W,{className:"inline mr-4"}),(0,s.jsx)("span",{children:"Inviter un participant"})]}),className:"w-[200px]",variant:"outline"}),i&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground mt-4",children:i})]})})})})};var f=l(68932),h=l(37827),v=l(1657);let j=m.forwardRef((e,t)=>{let{className:l,value:a,...i}=e;return(0,s.jsx)(h.fC,{ref:t,className:(0,v.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",l),...i,children:(0,s.jsx)(h.z$,{className:"h-full w-full flex-1 bg-[#304D30] transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});j.displayName=h.fC.displayName;var g=l(575),y=l(77625),b=l(21270),N=l(82670),w=l(30248),z=l(47082),_=l(65400),S=l(41391);let C=()=>{let{token:e,userId:t,isTokenExpired:l}=(0,c.a)(),{isAdmin:a}=(0,S.a)(),i=(0,z.NL)(),{data:s,isLoading:n,refetch:r}=(0,d.xAP)({headers:{Authorization:"Bearer ".concat(e)},pathParams:{participantId:t}},{enabled:null!==t&&!a()&&!l(),retry:0,queryHash:"getTeamByParticipantId"}),{mutate:o,isSuccess:u,isPending:m}=(0,d.uHv)({}),{mutate:x,isSuccess:p,isPending:f}=(0,d.Ij9)({});return{team:s,isLoading:n,createTeam:(t,l)=>{o({body:t,headers:{Authorization:"Bearer ".concat(e)}},{onSuccess(e,t,a){i.invalidateQueries({predicate:e=>"getTeamByParticipantId"===e.queryHash}),l()}})},isCreationLoading:m,isCreationSuccess:u,refetchTeam:r,updateTeam:(t,l,a)=>{x({body:a,headers:{Authorization:"Bearer ".concat(e)},pathParams:{teamId:t}},{onSettled:()=>{r(),l()}})},isUpdateLoading:f,isUpdateSuccess:p}},I=()=>{let{token:e,userId:t,isTokenExpired:l}=(0,c.a)(),{isAdmin:a}=(0,S.a)(),i=(0,z.NL)(),{participant:s,setParticipant:n}=(0,_.p)(),{refetchTeam:r}=C(),{data:o,isLoading:u,isFetched:m,refetch:x}=(0,d.Tzb)({headers:{Authorization:"Bearer ".concat(e)},pathParams:{participantId:t}},{enabled:null!==t&&void 0===s&&!a()&&!l(),retry:0,queryHash:"getParticipantById"}),{mutate:p,isSuccess:f,isPending:h}=(0,d.p6t)({}),{mutate:v,isSuccess:j,isPending:g}=(0,d.EwT)({});return void 0!==o&&s!==o&&null!==e&&n(o),{me:s,isLoading:u,isFetched:m,createParticipant:(t,l)=>{p({body:t,headers:{Authorization:"Bearer ".concat(e)}},{onSuccess:()=>{i.invalidateQueries({predicate:e=>"getParticipantById"===e.queryHash||"getTeamByParticipantId"===e.queryHash}),l()}})},isCreationSuccess:f,isCreationLoading:h,updateParticipant:(t,l,a)=>{v({body:t,headers:{Authorization:"Bearer ".concat(e)},pathParams:{participantId:l}},{onSettled:()=>{x(),r(),a()}})},isUpdateSuccess:j,isUpdateLoading:g}};var F=l(62177),k=l(56201),R=l(22782),T=l(30553),O=l(80037),V=l(82012),P=l(26739);function A(e){var t;let{values:l,value:a,onChange:i,placeholder:n,isSearchable:r}=e,[o,d]=(0,m.useState)(!1);return(0,s.jsxs)(V.J2,{open:o,onOpenChange:d,children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsxs)(g.z,{variant:"outline",role:"combobox","aria-expanded":o,className:(0,v.cn)("w-full justify-between",!a&&"text-muted-foreground"),children:[(0,s.jsx)("span",{children:a?null===(t=l.find(e=>e.value===a))||void 0===t?void 0:t.label:n}),(0,s.jsx)(T.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(V.yk,{className:"w-full p-0",children:(0,s.jsxs)(P.mY,{children:[r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P.sZ,{placeholder:n}),(0,s.jsx)(P.rb,{children:"No framework found."})]}),(0,s.jsx)(P.fu,{children:l.map(e=>(0,s.jsxs)(P.di,{value:e.value,onSelect:e=>{i(e),d(!1)},className:"w-full text-left",children:[(0,s.jsx)(O.Z,{className:(0,v.cn)("mr-2 h-4 w-4",a===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})})]})}var D=l(80244),E=l(9208),L=l(54739);let G=e=>{let{setIsOpen:t,onDropAccepted:l,multiple:a=!1,maxSize:i=10485760,accept:n={"image/*":[".jpg",".jpeg",".png"],"application/pdf":[".pdf"]}}=e,[r,o]=(0,m.useState)(!1),[d,c]=(0,m.useState)(""),u=i/1e6,x=Object.values(n).map(e=>e.map(e=>e.replaceAll(".","")).join(", ")).join(", ");return(0,s.jsx)(L.ZP,{accept:n,onDropAccepted:(e,a)=>{o(!1),t(!1),l(e,a)},onDropRejected:(e,t)=>{e[0].file.size>i?c("Fichier trop lourd (max: ".concat(u,"Mo)")):c("Type de fichier non support\xe9 (support\xe9: ".concat(x,")")),o(!0)},multiple:a,maxSize:i,children:e=>{let{getRootProps:t,getInputProps:l}=e;return(0,s.jsxs)(s.Fragment,{children:[r&&(0,s.jsx)("span",{className:"text-red-600 font-medium",children:d}),(0,s.jsx)("div",{...t({className:(0,v.cn)("container flex flex-col items-center justify-center w-full h-48 border-2 ".concat(r?"border-red-600":"border-gray-300"," border-dashed rounded-lg cursor-pointer"))}),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-x-3 mt-2 mb-2",children:[(0,s.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsxs)("span",{className:"font-medium text-gray-600",children:["Glissez et d\xe9posez votre fichier ici ou"," ",(0,s.jsx)("span",{className:"text-blue-600 underline",children:"s\xe9lectionnez un fichier"})]})]}),(0,s.jsx)("input",{...l()})]})})]})}})};var B=l(20703),q=l(71016),Z=l(48682);let M=e=>{var t;let{setIsUploading:l,setIsOpen:a,field:i,id:n,documentId:r,participantId:o}=e,{uploadDocument:d,getDocument:c,data:u,setDocumentId:x,documentId:p}=(0,k.k)(),{setDocument:f}=(0,q.a)(),h=c(o,null===(t=i.value)||void 0===t?void 0:t.id),[v,j]=(0,m.useState)(h),[b,N]=(0,m.useState)((null==u?void 0:u.size)===void 0);return(null==h?void 0:h.size)===void 0&&p!==r&&(null==u?void 0:u.size)===void 0&&(x(i.value.id),N(!0)),(null==u?void 0:u.size)!==void 0&&b&&(f(o,n,i.value.id,u),j(u),N(!1)),(0,s.jsx)(s.Fragment,{children:(null==v?void 0:v.size)!==void 0?(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("span",{className:"text-gray-500 overflow-hidden m-auto",children:(null==v?void 0:v.type)==="application/pdf"?(0,s.jsx)("div",{className:"h-[600px]",children:(0,s.jsx)(Z.X,{file:v})}):(0,s.jsx)(B.default,{src:URL.createObjectURL(v),alt:i.name,width:300,height:200,className:"rounded-lg w-auto max-h-[400px]"})}),(0,s.jsx)(g.z,{className:"w-full",onClick:()=>{i.onChange(null),j(void 0)},children:"Modifier"})]}):(0,s.jsx)(s.Fragment,{children:r?(0,s.jsx)(y.O,{className:"w-full h-80"}):(0,s.jsx)(G,{setIsOpen:a,onDropAccepted:(e,t)=>{let a=e[0],s=crypto.randomUUID();l(!0),d(a,n,s,o,()=>{i.onChange({name:a.name,id:s,type:n,updated:!0}),l(!1)})}})})})},U=()=>{let{token:e}=(0,c.a)(),t=(0,z.NL)(),{mutate:l,isPending:a,isSuccess:i}=(0,d.qGn)({}),{mutate:s}=(0,d.Bz8)({});return{assignSecurityFile:(l,a,i)=>{s({headers:{Authorization:"Bearer ".concat(e)},pathParams:{participantId:l},queryParams:{security_file_id:a}},{onSuccess(e,l,a){t.invalidateQueries({predicate:e=>"getTeamByParticipantId"===e.queryHash}),i()}})},setSecurityFile:(t,a)=>{l({body:t,headers:{Authorization:"Bearer ".concat(e)}},{onSuccess(e,t,l){a()}})},isCreationLoading:a,isCreationSuccess:i}};var Q=l(79283);let W=e=>{let{setIsOpen:t,form:l,setIsUploading:a}=e,{setSecurityFile:n}=U();return(0,s.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,s.jsx)($,{label:"Allergies",id:"securityFile.allergy",form:l,type:i.STRING}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($,{label:"Asthme",id:"securityFile.asthma",form:l,type:i.BOOLEAN}),l.watch("securityFile.asthma")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($,{label:"Passage en soins intensifs",id:"securityFile.intensive_care_unit",form:l,type:i.BOOLEAN}),l.watch("securityFile.intensive_care_unit")&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)($,{label:"Date de passage en soins intensifs",id:"securityFile.intensive_care_unit_when",form:l,type:i.STRING})})]})]}),(0,s.jsx)($,{label:"Traitement en cours",id:"securityFile.ongoing_treatment",form:l,type:i.STRING}),(0,s.jsx)($,{label:"Maladies",id:"securityFile.sicknesses",form:l,type:i.STRING}),(0,s.jsx)($,{label:"Hospitalisation",id:"securityFile.hospitalization",form:l,type:i.STRING}),(0,s.jsx)($,{label:"Op\xe9ration chirurgicale",id:"securityFile.surgical_operation",form:l,type:i.STRING}),(0,s.jsx)($,{label:"Traumatisme",id:"securityFile.trauma",form:l,type:i.STRING}),(0,s.jsx)($,{label:"Ant\xe9c\xe9dents familiaux",id:"securityFile.family",form:l,type:i.STRING}),(0,s.jsx)("div",{className:"my-4 items-center",children:(0,s.jsx)(Q.S,{text:"Personne \xe0 contacter en cas d'urgence"})}),(0,s.jsx)($,{label:"Pr\xe9nom",id:"securityFile.emergency_person_firstname",form:l,type:i.STRING}),(0,s.jsx)($,{label:"Nom",id:"securityFile.emergency_person_name",form:l,type:i.STRING}),(0,s.jsx)($,{label:"T\xe9l\xe9phone",id:"securityFile.emergency_person_phone",form:l,type:i.PHONE}),(0,s.jsx)(g.z,{className:"mt-6",type:"button",onClick:function(e){l.setValue("securityFile.updated",!0),void 0===l.getValues("securityFile.id")&&l.setValue("securityFile.id",crypto.randomUUID()),n({...l.getValues("securityFile")},()=>{}),t(!1)},children:"Valider"})]})};var Y=l(82084),J=l(79024);let H=e=>{let{label:t,field:l,needDialog:a}=e,[i,n]=(0,m.useState)(!1);return(0,s.jsxs)(E.Vq,{open:i,onOpenChange:n,children:[(0,s.jsxs)("div",{className:"w-full col-span-4 text-right",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(J.X,{checked:l.value,onCheckedChange:e=>{a?n(!i&&!l.value):l.onChange(!l.value)}})})]}),(0,s.jsxs)(E.cZ,{className:"md:max-w-3xl top-1/2",children:[(0,s.jsx)(E.fK,{children:(0,s.jsx)(E.$N,{children:t})}),(0,s.jsx)(E.Be,{children:"En cochant cette case, vous certifiez sur l'honneur que les informations que vous avez renseign\xe9es sont exactes, que vous avez bien lu et compris le r\xe8glement de la comp\xe9tition, et que vous vous engagez \xe0 le respecter."}),(0,s.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,s.jsx)(g.z,{variant:"outline",onClick:()=>n(!1),children:"Annuler"}),(0,s.jsx)(g.z,{onClick:function(e){e.preventDefault(),l.onChange(!l.value),n(!1)},children:"Valider"})]})]})]})};var X=l(20167),K=l.n(X);function $(e){let{label:t,id:l,placeholder:a,form:i,layer:n,type:o,needDialog:d,participantId:c}=e,[u,x]=(0,m.useState)(!1),p=(e,n,r)=>{var m,p,f,h;switch(o){case"boolean":return(0,s.jsx)(H,{label:t,field:e,needDialog:null!=d&&d});case"size":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-span-3"}),(0,s.jsxs)("div",{className:"col-span-1",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(A,{values:Y.J7,placeholder:a,...e})})]})]});case"document":return(0,s.jsxs)(E.Vq,{open:n,onOpenChange:r,children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(E.hg,{asChild:!0,children:(0,s.jsx)(g.z,{variant:"outline",className:"col-span-4",disabled:u,children:(0,s.jsx)("div",{className:"flex flex-row items-start w-full",children:(0,s.jsx)(s.Fragment,{children:(null===(m=e.value)||void 0===m?void 0:m.name)?(0,s.jsx)("span",{className:"text-gray-500 overflow-hidden",children:null!==(f=e.value.name)&&void 0!==f?f:"Aucun fichier s\xe9l\xe9ctionn\xe9"}):(0,s.jsx)("span",{className:"font-semibold  mr-6",children:"Choisir un fichier"})})})})}),(0,s.jsxs)(E.cZ,{className:"md:max-w-2xl top-1/2",children:[(0,s.jsx)(E.fK,{children:(0,s.jsx)(E.$N,{className:"text-red sm:text-lg",children:t})}),(0,s.jsx)(M,{setIsOpen:r,setIsUploading:x,field:e,id:l,documentId:null===(p=e.value)||void 0===p?void 0:p.id,participantId:c})]})]});case"securityFile":return(0,s.jsxs)(E.Vq,{open:n,onOpenChange:r,children:[(0,s.jsx)(E.hg,{asChild:!0,children:(0,s.jsx)(g.z,{variant:"outline",className:"col-span-4",disabled:u,children:(0,s.jsx)("div",{className:"flex flex-row items-start w-full",children:u?(0,s.jsx)(F.BGW,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(s.Fragment,{children:(null===(h=e.value)||void 0===h?void 0:h.id)?(0,s.jsx)("span",{className:"text-gray-500 overflow-hidden",children:"Fiche de s\xe9curit\xe9"}):(0,s.jsx)("span",{className:"font-semibold mr-6",children:"Remplir la fiche de s\xe9curit\xe9"})})})})}),(0,s.jsxs)(E.cZ,{className:"md:max-w-3xl top-1/2",children:[(0,s.jsx)(E.fK,{children:(0,s.jsx)(E.$N,{className:"text-red sm:text-lg",children:t})}),(0,s.jsx)(W,{setIsOpen:r,form:i,setIsUploading:x})]})]});case"string":return(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(R.I,{placeholder:a,...e})})]});case"situation":return(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(A,{values:Y.LN,placeholder:a,...e})})]});case"difficulty":return(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(A,{values:Y.n9,placeholder:a,...e})})]});case"meetingPlace":return(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(A,{values:Y.xQ,placeholder:a,...e})})]});case"phone":return(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(K(),{country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",...e})})]});default:return(0,s.jsx)(y.O,{className:"w-24 h-6"})}},[f,h]=(0,m.useState)(!1);return(0,s.jsx)(D.Wi,{control:i.control,name:l,render:e=>{let{field:l}=e;return(0,s.jsx)(D.xJ,{children:(0,s.jsxs)("div",{className:"grid p-2 grid-cols-6",children:[(0,s.jsxs)(D.lX,{className:"font-semibold text-left my-auto text-md col-span-2",children:[n&&(0,s.jsx)(r.WFu,{className:"inline mr-4"}),t]}),p(l,f,h)]})})}})}(a=i||(i={})).STRING="string",a.PHONE="phone",a.SIZE="size",a.BOOLEAN="boolean",a.DOCUMENT="document",a.SECURITYFILE="securityFile",a.SITUATION="situation",a.DIFFICULTY="difficulty",a.MEETINGPLACE="meetingPlace";var ee=l(55348);let et=e=>{var t,l,a,d,c,u,x,p,h,v,j,y,z,_,S,R,T,O,V,P,A,D,E,L,G,B,q,Z,M,Q,W,J,H,X,K,et,el,ea,ei,es,en,er,eo,ed,ec,eu,em,ex,ep,ef,eh,ev,ej,eg,ey,eb,eN,ew,ez,e_;let{participant:eS,isEdit:eC,setIsEdit:eI}=e,{updateParticipant:eF,isUpdateLoading:ek}=I(),{refetchTeam:eR}=C(),{assignDocument:eT}=(0,k.k)(),{assignSecurityFile:eO}=U(),eV=w.z.object({address:w.z.string().min(1,{message:"Veuillez renseigner votre adresse"}).optional(),bikeSize:w.z.string().refine(e=>["xs","s","m","l","xl"].includes(e),{message:"Veuillez renseigner une taille de v\xe9lo valide"}).optional(),tShirtSize:w.z.string().refine(e=>["xs","s","m","l","xl"].includes(e),{message:"Veuillez renseigner une taille de t-shirt valide"}).optional(),situation:w.z.string().optional(),otherSchool:w.z.string().optional(),company:w.z.string().optional(),other:w.z.string().optional(),diet:w.z.string().optional(),idCard:w.z.object({name:w.z.string(),id:w.z.string().uuid(),updated:w.z.boolean(),type:w.z.literal("idCard")}).partial(),medicalCertificate:w.z.object({name:w.z.string(),id:w.z.string().uuid(),updated:w.z.boolean(),type:w.z.literal("medicalCertificate")}).partial(),studentCard:w.z.object({name:w.z.string(),id:w.z.string().uuid(),updated:w.z.boolean(),type:w.z.literal("studentCard")}).partial(),raidRules:w.z.object({name:w.z.string(),id:w.z.string().uuid(),updated:w.z.boolean(),type:w.z.literal("raidRules")}).partial(),securityFile:w.z.object({allergy:w.z.string().optional(),asthma:w.z.boolean(),intensive_care_unit:w.z.boolean().optional(),intensive_care_unit_when:w.z.string().optional(),ongoing_treatment:w.z.string().optional(),sicknesses:w.z.string().optional(),hospitalization:w.z.string().optional(),surgical_operation:w.z.string().optional(),trauma:w.z.string().optional(),family:w.z.string().optional(),id:w.z.string().uuid(),updated:w.z.boolean(),emergency_person_name:w.z.string().min(1,{message:"Veuillez renseigner le nom de la personne \xe0 contacter"}),emergency_person_firstname:w.z.string().min(1,{message:"Veuillez renseigner le pr\xe9nom de la personne \xe0 contacter"}),emergency_person_phone:w.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).min(11,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}).max(14,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"})}).partial(),attestationHonour:w.z.boolean().optional()}),eP=(0,N.cI)({resolver:(0,b.F)(eV),mode:"onBlur",defaultValues:{address:null!==(G=eS.address)&&void 0!==G?G:void 0,bikeSize:null!==(B=null===(t=eS.bike_size)||void 0===t?void 0:t.toLowerCase())&&void 0!==B?B:void 0,tShirtSize:null!==(q=null===(l=eS.t_shirt_size)||void 0===l?void 0:l.toLowerCase())&&void 0!==q?q:void 0,situation:(0,ee.l)(null!==(Z=eS.situation)&&void 0!==Z?Z:void 0),other:"other"===(0,ee.l)(null!==(M=eS.situation)&&void 0!==M?M:void 0)?(0,ee.Q)(null!==(Q=eS.situation)&&void 0!==Q?Q:void 0):void 0,otherSchool:"otherschool"===(0,ee.l)(null!==(W=eS.situation)&&void 0!==W?W:void 0)?(0,ee.Q)(null!==(J=eS.situation)&&void 0!==J?J:void 0):void 0,company:"corporatepartner"===(0,ee.l)(null!==(H=eS.situation)&&void 0!==H?H:void 0)?(0,ee.Q)(null!==(X=eS.situation)&&void 0!==X?X:void 0):void 0,diet:null!==(K=eS.diet)&&void 0!==K?K:void 0,idCard:{name:null!==(et=null===(a=eS.id_card)||void 0===a?void 0:a.name)&&void 0!==et?et:void 0,id:null!==(el=null===(d=eS.id_card)||void 0===d?void 0:d.id)&&void 0!==el?el:void 0,type:"idCard"},medicalCertificate:{name:null!==(ea=null===(c=eS.medical_certificate)||void 0===c?void 0:c.name)&&void 0!==ea?ea:void 0,id:null!==(ei=null===(u=eS.medical_certificate)||void 0===u?void 0:u.id)&&void 0!==ei?ei:void 0,type:"medicalCertificate"},studentCard:{name:null!==(es=null===(x=eS.student_card)||void 0===x?void 0:x.name)&&void 0!==es?es:void 0,id:null!==(en=null===(p=eS.student_card)||void 0===p?void 0:p.id)&&void 0!==en?en:void 0,type:"studentCard"},raidRules:{name:null!==(er=null===(h=eS.raid_rules)||void 0===h?void 0:h.name)&&void 0!==er?er:void 0,id:null!==(eo=null===(v=eS.raid_rules)||void 0===v?void 0:v.id)&&void 0!==eo?eo:void 0,type:"raidRules"},securityFile:{allergy:null!==(ed=null==eS?void 0:null===(j=eS.security_file)||void 0===j?void 0:j.allergy)&&void 0!==ed?ed:void 0,asthma:null!==(ec=null==eS?void 0:null===(y=eS.security_file)||void 0===y?void 0:y.asthma)&&void 0!==ec&&ec,intensive_care_unit:null!==(eu=null==eS?void 0:null===(z=eS.security_file)||void 0===z?void 0:z.intensive_care_unit)&&void 0!==eu&&eu,intensive_care_unit_when:null!==(em=null==eS?void 0:null===(_=eS.security_file)||void 0===_?void 0:_.intensive_care_unit_when)&&void 0!==em?em:void 0,ongoing_treatment:null!==(ex=null==eS?void 0:null===(S=eS.security_file)||void 0===S?void 0:S.ongoing_treatment)&&void 0!==ex?ex:void 0,sicknesses:null!==(ep=null==eS?void 0:null===(R=eS.security_file)||void 0===R?void 0:R.sicknesses)&&void 0!==ep?ep:void 0,hospitalization:null!==(ef=null==eS?void 0:null===(T=eS.security_file)||void 0===T?void 0:T.hospitalization)&&void 0!==ef?ef:void 0,surgical_operation:null!==(eh=null==eS?void 0:null===(O=eS.security_file)||void 0===O?void 0:O.surgical_operation)&&void 0!==eh?eh:void 0,trauma:null!==(ev=null==eS?void 0:null===(V=eS.security_file)||void 0===V?void 0:V.trauma)&&void 0!==ev?ev:void 0,family:null!==(ej=null==eS?void 0:null===(P=eS.security_file)||void 0===P?void 0:P.family)&&void 0!==ej?ej:void 0,id:null!==(eg=null==eS?void 0:null===(A=eS.security_file)||void 0===A?void 0:A.id)&&void 0!==eg?eg:void 0,emergency_person_name:null!==(ey=null==eS?void 0:null===(D=eS.security_file)||void 0===D?void 0:D.emergency_person_name)&&void 0!==ey?ey:void 0,emergency_person_firstname:null!==(eb=null==eS?void 0:null===(E=eS.security_file)||void 0===E?void 0:E.emergency_person_firstname)&&void 0!==eb?eb:void 0,emergency_person_phone:null!==(eN=null==eS?void 0:null===(L=eS.security_file)||void 0===L?void 0:L.emergency_person_phone)&&void 0!==eN?eN:void 0},attestationHonour:eS.attestation_on_honour}});return(0,s.jsx)(n.aY,{children:(0,m.createElement)(N.RV,{...eP,key:"Participant"},(0,s.jsxs)("form",{onSubmit:eP.handleSubmit(function(e){var t,l,a,i,s,n;if(!eP.formState.isDirty){eI(!eC);return}let r=[e.idCard,e.medicalCertificate,e.studentCard,e.raidRules].filter(e=>e.updated);for(let t of(e.securityFile.updated&&eO(eS.id,e.securityFile.id,()=>{console.log("Security file updated")}),r))t&&eT({id:t.id,name:t.name,type:t.type},()=>{console.log("Document updated: ",t.name)});eF({bike_size:null!==(a=null===(t=e.bikeSize)||void 0===t?void 0:t.toUpperCase())&&void 0!==a?a:null,t_shirt_size:null!==(i=null===(l=e.tShirtSize)||void 0===l?void 0:l.toUpperCase())&&void 0!==i?i:null,situation:function(e){switch(e.situation){case"otherschool":return"otherschool : ".concat(e.otherSchool);case"corporatepartner":return"corporatepartner : ".concat(e.company);case"other":return"other : ".concat(e.other);default:return"centrale"}}(e),address:null!==(s=e.address)&&void 0!==s?s:null,diet:null!==(n=e.diet)&&void 0!==n?n:null,attestation_on_honour:e.attestationHonour},eS.id,()=>{(0,o.Am)({title:"Profil mis \xe0 jour",description:"Vos informations ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s"}),eR(),eI(!eC),eP.reset()})}),className:"flex flex-col justify-between h-full ".concat(eC?"":"space-y-4"),children:[eC?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($,{label:"Addresse",id:"address",form:eP,type:i.STRING}),(0,s.jsx)($,{label:"Taille de v\xe9lo",placeholder:"Taille",id:"bikeSize",form:eP,type:i.SIZE}),(0,s.jsx)($,{label:"Taille de t-shirt",id:"tShirtSize",placeholder:"Taille",form:eP,type:i.SIZE}),(0,s.jsx)($,{label:"R\xe9gime alimentaire",id:"diet",form:eP,type:i.STRING}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($,{label:"Situation",id:"situation",form:eP,type:i.SITUATION}),"otherschool"===eP.watch("situation")&&(0,s.jsx)($,{label:"Nom de l'\xe9cole",id:"otherSchool",form:eP,type:i.STRING,layer:1}),"corporatepartner"===eP.watch("situation")&&(0,s.jsx)($,{label:"Nom de l'entreprise",id:"company",form:eP,type:i.STRING,layer:1}),"other"===eP.watch("situation")&&(0,s.jsx)($,{label:"Autre situation",id:"other",form:eP,type:i.STRING,layer:1})]}),["centrale","otherschool"].includes(null!==(ew=eP.watch("situation"))&&void 0!==ew?ew:"")&&(0,s.jsx)($,{label:"Carte \xe9tudiante",id:"studentCard",form:eP,type:i.DOCUMENT,layer:1,participantId:eS.id}),(0,s.jsx)($,{label:"Carte d'identit\xe9",id:"idCard",form:eP,type:i.DOCUMENT,participantId:eS.id}),(0,s.jsx)($,{label:"Certificat m\xe9dical",id:"medicalCertificate",form:eP,type:i.DOCUMENT,participantId:eS.id}),(0,s.jsx)($,{label:"Fiche de s\xe9curit\xe9",id:"securityFile",form:eP,type:i.SECURITYFILE}),(0,s.jsx)($,{label:"R\xe8glement du raid",id:"raidRules",form:eP,type:i.DOCUMENT,participantId:eS.id}),(0,s.jsx)($,{label:"Attestation sur l'honneur",id:"attestationHonour",form:eP,type:i.BOOLEAN,needDialog:!0})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.l,{label:"Addresse",value:eS.address}),(0,s.jsx)(f.l,{label:"Taille de v\xe9lo",value:eS.bike_size}),(0,s.jsx)(f.l,{label:"Taille de t-shirt",value:eS.t_shirt_size}),(0,s.jsx)(f.l,{label:"R\xe9gime alimentaire",value:eS.diet}),function(){var e,t;let l=(0,ee.l)(null!==(e=eS.situation)&&void 0!==e?e:void 0),a=(0,ee.Q)(null!==(t=eS.situation)&&void 0!==t?t:void 0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.l,{label:"Situation",value:(0,Y.Jg)(Y.LN,l)}),"otherschool"===l&&(0,s.jsx)(f.l,{label:"Nom de l'\xe9cole",value:a}),"corporatepartner"===l&&(0,s.jsx)(f.l,{label:"Nom de l'entreprise",value:a}),"other"===l&&(0,s.jsx)(f.l,{label:"Autre situation",value:a})]})}(),["centrale","otherschool"].includes(null!==(e_=(0,ee.l)(null!==(ez=eS.situation)&&void 0!==ez?ez:void 0))&&void 0!==e_?e_:"")&&(0,s.jsx)(f.l,{label:"Carte \xe9tudiante",value:eS.student_card,participantId:eS.id}),(0,s.jsx)(f.l,{label:"Carte d'identit\xe9",value:eS.id_card,participantId:eS.id}),(0,s.jsx)(f.l,{label:"Certificat m\xe9dical",value:eS.medical_certificate,participantId:eS.id}),(0,s.jsx)(f.l,{label:"Fiche de s\xe9curit\xe9",value:eS.security_file}),(0,s.jsx)(f.l,{label:"R\xe8glement du raid",value:eS.raid_rules,participantId:eS.id}),(0,s.jsx)(f.l,{label:"Attestation sur l'honneur",value:eS.attestation_on_honour})]}),eC&&(0,s.jsx)(s.Fragment,{children:ek?(0,s.jsx)(g.z,{variant:"default",disabled:!0,className:"w-full mt-6",children:(0,s.jsx)(F.BGW,{className:"mr-2 h-4 w-4 animate-spin"})}):(0,s.jsxs)(g.z,{className:"w-full mt-6",type:"submit",disabled:!eP.formState.isDirty,children:[(0,s.jsx)(r.dZ6,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})})]}))})},el=()=>(0,s.jsx)(n.aY,{children:[...Array(10)].map((e,t)=>(0,s.jsxs)("div",{className:"grid p-2 grid-cols-6 items-center w-full h-[65px]",children:[(0,s.jsx)("span",{className:"font-semibold text-left my-auto col-span-2",children:(0,s.jsx)(y.O,{className:"w-32 h-7"})}),(0,s.jsx)(y.O,{className:"w-64 h-6 col-span-4 ml-auto"})]},t))}),ea=e=>{let{participant:t,isCaptain:l}=e,[a,i]=(0,m.useState)(!1);function o(){i(!a)}return(0,s.jsxs)(n.Zb,{className:"w-full flex flex-col justify-between",children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.ll,{children:(null==t?void 0:t.firstname)&&(null==t?void 0:t.firstname)?(null==t?void 0:t.firstname)+" "+(null==t?void 0:t.name):(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)(y.O,{className:"w-32 h-8"}),(0,s.jsx)(y.O,{className:"w-32 h-8"})]})}),(0,s.jsx)(n.SZ,{children:t?(0,s.jsx)(s.Fragment,{children:l?"Capitaine":"\xa0"}):(0,s.jsx)(y.O,{className:"w-24 h-5 mt-1"})})]}),a&&t?(0,s.jsxs)(g.z,{variant:"destructive",onClick:o,className:"w-[110px]",children:[(0,s.jsx)(r.apv,{className:"mr-2 h-4 w-4"}),"Annuler"]}):(0,s.jsxs)(g.z,{variant:"outline",onClick:o,className:"w-[110px]",children:[(0,s.jsx)(r.LsQ,{className:"mr-2 h-4 w-4"}),"\xc9diter"]})]})}),t?(0,s.jsx)(et,{participant:t,isEdit:a,setIsEdit:i}):(0,s.jsx)(el,{}),!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.eW,{className:"w-full",children:t?(0,s.jsx)(f.l,{label:"Paiement",value:t.payment}):(0,s.jsxs)("div",{className:"grid p-2 grid-cols-6 items-center w-full h-[65px]",children:[(0,s.jsx)("span",{className:"font-semibold text-left my-auto col-span-2",children:(0,s.jsx)(y.O,{className:"w-32 h-7"})}),(0,s.jsx)(y.O,{className:"w-64 h-6 col-span-4 ml-auto"})]})}),(0,s.jsx)(j,{value:null==t?void 0:t.validation_progress})]})]})},ei=e=>{var t,l,a;let{team:d,setIsEdit:c}=e,{isUpdateLoading:u,updateTeam:x}=C(),p=w.z.object({name:w.z.string().optional(),difficulty:w.z.enum(["discovery","sports","expert"]).optional(),meeting_place:w.z.enum(["centrale","bellecour","anyway"]).optional()}),f=(0,N.cI)({resolver:(0,b.F)(p),mode:"onBlur",defaultValues:{name:null!==(t=null==d?void 0:d.name)&&void 0!==t?t:void 0,difficulty:null!==(l=null==d?void 0:d.difficulty)&&void 0!==l?l:void 0,meeting_place:null!==(a=null==d?void 0:d.meeting_place)&&void 0!==a?a:void 0}});return(0,m.createElement)(N.RV,{...f,key:"Participant"},(0,s.jsx)("form",{onSubmit:f.handleSubmit(function(e){var t;if(!f.formState.isDirty){c(!1);return}x(null!==(t=null==d?void 0:d.id)&&void 0!==t?t:"",()=>{c(!1),(0,o.Am)({title:"\xc9quipe mise \xe0 jour"})},e)}),className:"flex flex-col justify-between h-full",children:(0,s.jsxs)(n.aY,{children:[(0,s.jsx)($,{label:"Nom d'\xe9quipe",id:"name",form:f,type:i.STRING}),(0,s.jsx)($,{label:"Lieu de rendez-vous",id:"meeting_place",placeholder:"Selectionner un lieu de rendez-vous",form:f,type:i.MEETINGPLACE}),(0,s.jsx)($,{label:"Parcours",id:"difficulty",placeholder:"Selectionner un parcours",form:f,type:i.DIFFICULTY}),u?(0,s.jsx)(g.z,{variant:"default",disabled:!0,className:"w-full mt-6",children:(0,s.jsx)(F.BGW,{className:"mr-2 h-4 w-4 animate-spin"})}):(0,s.jsxs)(g.z,{className:"w-full mt-6",type:"submit",disabled:!f.formState.isDirty,children:[(0,s.jsx)(r.dZ6,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})]})}))};var es=l(42729);let en=e=>{var t,l,a;let{team:i}=e,[o,d]=(0,m.useState)(!1);function c(){d(!o)}let u=[{title:"Lieu de rendez-vous",value:(0,Y.Jg)(Y.xQ,null!==(t=null==i?void 0:i.meeting_place)&&void 0!==t?t:void 0),description:"lieu de d\xe9part et d'arriv\xe9e",unit:(0,s.jsx)(r.k9l,{className:"h-4 w-4"})},{title:"Date",value:"06-07 octobre",description:"week-end complet",unit:(0,s.jsx)(r.Bge,{className:"h-4 w-4"})},{title:"Inscription",value:"".concat(null==i?void 0:i.validation_progress.toFixed(0),"%"),description:"10 jours restants",unit:(0,s.jsx)("span",{children:"%"})},{title:"Parcours",value:(0,Y.Jg)(Y.n9,null!==(l=null==i?void 0:i.difficulty)&&void 0!==l?l:void 0),description:(0,Y.Jg)(Y.J1,null!==(a=null==i?void 0:i.difficulty)&&void 0!==a?a:void 0),unit:void 0}];return(0,s.jsx)(n.Zb,{className:"w-full mt-5",children:(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,s.jsx)(n.ll,{children:o?(0,s.jsx)("div",{children:"\xc9diter l'\xe9quipe"}):(0,s.jsx)(s.Fragment,{children:(null==i?void 0:i.name)?(0,s.jsx)("div",{children:null==i?void 0:i.name}):(0,s.jsx)(y.O,{className:"w-24 h-8"})})}),o&&i?(0,s.jsxs)(g.z,{variant:"destructive",onClick:c,className:"w-[110px]",children:[(0,s.jsx)(r.apv,{className:"mr-2 h-4 w-4"}),"Annuler"]}):(0,s.jsxs)(g.z,{variant:"outline",onClick:c,className:"w-[110px]",children:[(0,s.jsx)(r.LsQ,{className:"mr-2 h-4 w-4"}),"\xc9diter"]})]}),(0,s.jsx)("div",{className:"h-4"}),o&&i?(0,s.jsx)(ei,{team:i,setIsEdit:d}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 md:gap-8 xl:grid-cols-4",children:u.map(e=>(0,s.jsx)(es.L,{info:e,isLoaded:void 0!==i},e.title))})]})})})};var er=l(50326);let eo=e=>{let{form:t,label:l,id:a,placeholder:i}=e;return(0,s.jsx)(D.Wi,{control:t.control,name:a,render:e=>{let{field:t}=e;return(0,s.jsx)(D.xJ,{children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsxs)(D.lX,{className:"text-left font-bold",children:[l," :"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(R.I,{placeholder:i,...t})})]})]})})}})};var ed=l(52328),ec=l(50230),eu=l(25890),em=l(11205),ex=l(12647),ep=l(65706);let ef=e=>{let{label:t,value:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsxs)(ex._,{htmlFor:t,className:"font-bold",children:[t," :"]}),t?(0,s.jsx)("span",{id:t,children:l}):(0,s.jsx)(y.O,{className:"w-24 h-6"})]})};var eh=l(91806);let ev=e=>{var t,l;let{me:a,isEdit:i,setIsEdit:n,setIsOpen:d}=e,{updateParticipant:c,isUpdateLoading:u}=I(),m=w.z.object({firstname:w.z.string().min(1,{message:"Veuillez renseigner votre pr\xe9nom"}),name:w.z.string().min(1,{message:"Veuillez renseigner votre nom"}),email:w.z.string().email({message:"Veuillez renseigner une adresse email valide"}),phone:w.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).min(11,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}).max(14,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}),birthday:w.z.date({required_error:"Veuillez renseigner votre date de naissance",invalid_type_error:"Veuillez renseigner une date de naissance valide"})}),x=(0,N.cI)({resolver:(0,b.F)(m),defaultValues:{firstname:null==a?void 0:a.firstname,name:null==a?void 0:a.name,email:null==a?void 0:a.email,phone:(l=null!==(t=null==a?void 0:a.phone)&&void 0!==t?t:"")?l.startsWith("0")?"+33 ".concat(l.slice(1)):l:"",birthday:(null==a?void 0:a.birthday)?(0,ed.Q)(null==a?void 0:a.birthday):void 0}});return(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(N.RV,{...x,children:(0,s.jsxs)("form",{onSubmit:x.handleSubmit(function(e){if(!x.formState.isDirty){n(!i);return}let t=e.birthday.toISOString().split("T")[0];c({...e,birthday:t},a.id,()=>{(0,o.Am)({title:"Profil mis \xe0 jour",description:"Vos informations ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s"}),n(!i),d(!1)})}),className:"flex flex-col justify-between h-full",children:[(0,s.jsx)("div",{}),i?(0,s.jsxs)("div",{className:"grid w-full items-center gap-6",children:[(0,s.jsx)(eo,{form:x,label:"Pr\xe9nom",id:"firstname",placeholder:"Pr\xe9nom"}),(0,s.jsx)(eo,{form:x,label:"Nom",id:"name",placeholder:"Nom"}),(0,s.jsx)(eo,{form:x,label:"Email",id:"email",placeholder:"inscription@raid.fr"}),(0,s.jsx)(D.Wi,{control:x.control,name:"phone",render:()=>(0,s.jsx)(D.xJ,{children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(D.lX,{className:"text-left font-bold",children:"T\xe9l\xe9phone :"}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(N.Qr,{name:"phone",control:x.control,render:e=>{let{field:{onChange:t,value:l}}=e;return(0,s.jsx)(K(),{value:l,onChange:t,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})}),(0,s.jsx)(D.Wi,{control:x.control,name:"birthday",render:e=>{let{field:t}=e;return(0,s.jsx)(D.xJ,{children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(D.lX,{className:"text-left font-bold",children:"Date de naissance :"}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(N.Qr,{name:"birthday",control:x.control,render:e=>{let{field:{onChange:l,value:a}}=e;return(0,s.jsx)(ep.M,{date:a,setDate:l,defaultDate:a||(0,ec.B)(new Date,-21),...t})}})]})]})})}})]}):(0,s.jsxs)("div",{className:"grid w-full items-center gap-10",children:[(0,s.jsx)(ef,{label:"Pr\xe9nom",value:null==a?void 0:a.firstname}),(0,s.jsx)(ef,{label:"Nom",value:null==a?void 0:a.name}),(0,s.jsx)(ef,{label:"Email",value:null==a?void 0:a.email}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(ex._,{htmlFor:"phone",className:"font-bold",children:"T\xe9l\xe9phone :"}),(0,s.jsx)(K(),{value:null==a?void 0:a.phone,country:"fr",specialLabel:"",inputClass:"bg-transparent",disabled:!0})]}),(0,s.jsx)(ef,{label:"Date de naissance",value:(null==a?void 0:a.birthday)?(0,eu.p6)((0,ed.Q)(a.birthday),"PPP",{locale:em.fr}):"Non renseign\xe9"})]}),(0,s.jsx)(er.FF,{className:"mt-8",children:(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center w-full gap-6",children:[i?(0,s.jsx)(s.Fragment,{children:u?(0,s.jsx)(g.z,{variant:"default",disabled:!0,className:"w-full",children:(0,s.jsx)(F.BGW,{className:"mr-2 h-4 w-4 animate-spin"})}):(0,s.jsxs)(g.z,{className:"w-full",type:"submit",disabled:!x.formState.isDirty,children:[(0,s.jsx)(r.dZ6,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})}):(0,s.jsx)(s.Fragment,{children:a&&(0,s.jsxs)(g.z,{variant:"outline",onClick:function(){(i&&x.formState.isDirty||!i)&&n(!i)},className:"w-full",children:[(0,s.jsx)(r.LsQ,{className:"mr-2 h-4 w-4"}),"\xc9diter"]})}),i?(0,s.jsxs)(g.z,{variant:"destructive",onClick:()=>x.reset(),className:"w-full",children:[(0,s.jsx)(r.apv,{className:"mr-2 h-4 w-4"}),"Annuler"]}):(0,s.jsx)(er.sw,{asChild:!0,children:(0,s.jsx)(eh.s,{})})]})})]})})})},ej=()=>{let{me:e}=I(),[t,l]=(0,m.useState)(!1),[a,i]=(0,m.useState)(!1);function n(){t&&i(!1),l(!t)}return(0,s.jsxs)(er.yo,{open:t,onOpenChange:n,children:[(0,s.jsx)(er.aM,{asChild:!0,children:(0,s.jsx)(g.z,{variant:"ghost",children:(null==e?void 0:e.firstname)===void 0||(null==e?void 0:e.name)===void 0?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(y.O,{className:"w-24 h-6"})}):(0,s.jsx)(s.Fragment,{children:e.firstname+" "+e.name})})}),(0,s.jsxs)(er.ue,{className:"flex flex-col justify-between",children:[(0,s.jsxs)(er.Tu,{children:[(0,s.jsx)(er.bC,{children:"Param\xe8tres"}),(0,s.jsx)(er.Ei,{children:"Information du compte"})]}),e?(0,s.jsx)(ev,{me:e,isEdit:a,setIsEdit:i,setIsOpen:n}):(0,s.jsx)(er.FF,{children:(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center w-full gap-6",children:[(0,s.jsx)("div",{className:"w-full"}),(0,s.jsx)(er.sw,{asChild:!0,children:(0,s.jsx)(eh.s,{})})]})})]})]})};var eg=l(8792),ey=l(29910),eb=l(31047),eN=l(72891),ew=l(50339),ez=l(28754),e_=l(37805),eS=l(37501);let eC=ez.v2;ez.ZA,ez.h_;let eI=ez.Tr;ez.Ee;let eF=m.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,s.jsx)(ez.fC,{ref:t,className:(0,v.cn)("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",l),...a})});eF.displayName=ez.fC.displayName;let ek=m.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,s.jsx)(ez.xz,{ref:t,className:(0,v.cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",l),...a})});ek.displayName=ez.xz.displayName;let eR=m.forwardRef((e,t)=>{let{className:l,inset:a,children:i,...n}=e;return(0,s.jsxs)(ez.fF,{ref:t,className:(0,v.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a&&"pl-8",l),...n,children:[i,(0,s.jsx)(e_.Z,{className:"ml-auto h-4 w-4"})]})});eR.displayName=ez.fF.displayName;let eT=m.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,s.jsx)(ez.tu,{ref:t,className:(0,v.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l),...a})});eT.displayName=ez.tu.displayName;let eO=m.forwardRef((e,t)=>{let{className:l,align:a="start",alignOffset:i=-4,sideOffset:n=8,...r}=e;return(0,s.jsx)(ez.h_,{children:(0,s.jsx)(ez.VY,{ref:t,align:a,alignOffset:i,sideOffset:n,className:(0,v.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l),...r})})});eO.displayName=ez.VY.displayName;let eV=m.forwardRef((e,t)=>{let{className:l,inset:a,...i}=e;return(0,s.jsx)(ez.ck,{ref:t,className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",l),...i})});eV.displayName=ez.ck.displayName,m.forwardRef((e,t)=>{let{className:l,children:a,checked:i,...n}=e;return(0,s.jsxs)(ez.oC,{ref:t,className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),checked:i,...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(ez.wU,{children:(0,s.jsx)(O.Z,{className:"h-4 w-4"})})}),a]})}).displayName=ez.oC.displayName,m.forwardRef((e,t)=>{let{className:l,children:a,...i}=e;return(0,s.jsxs)(ez.Rk,{ref:t,className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(ez.wU,{children:(0,s.jsx)(eS.Z,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=ez.Rk.displayName,m.forwardRef((e,t)=>{let{className:l,inset:a,...i}=e;return(0,s.jsx)(ez.__,{ref:t,className:(0,v.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",l),...i})}).displayName=ez.__.displayName;let eP=m.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,s.jsx)(ez.Z0,{ref:t,className:(0,v.cn)("-mx-1 my-1 h-px bg-muted",l),...a})});eP.displayName=ez.Z0.displayName;let eA=e=>{let{className:t,...l}=e;return(0,s.jsx)("span",{className:(0,v.cn)("ml-auto text-xs tracking-widest text-muted-foreground",t),...l})};eA.displayname="MenubarShortcut";var eD=l(64848);let eE=()=>{let{setTheme:e}=(0,eD.F)();return(0,s.jsx)("header",{className:"max-md:sticky top-0 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6 z-10",children:(0,s.jsxs)("nav",{className:"flex flex-row w-full mx-10 max-md:mx-0 items-center",children:[(0,s.jsx)(eg.default,{href:"#",className:"flex items-center gap-2 font-semibold md:text-base",children:(0,s.jsx)("span",{className:" text-2xl",children:"Inscription Raid 2024"})}),(0,s.jsxs)("div",{className:"flex flex-row ml-auto",children:[(0,s.jsx)(ej,{}),(0,s.jsx)("div",{className:"w-4"}),(0,s.jsx)(eF,{children:(0,s.jsxs)(eC,{children:[(0,s.jsxs)(ek,{children:["Param\xe8tres",(0,s.jsx)(ey.Z,{className:"h-6 w-6 ml-4"})]}),(0,s.jsxs)(eO,{children:[(0,s.jsxs)(eI,{children:[(0,s.jsx)(eR,{children:"Th\xe8me"}),(0,s.jsxs)(eT,{children:[(0,s.jsxs)(eV,{onClick:()=>e("light"),children:["Clair",(0,s.jsx)(eA,{children:(0,s.jsx)(eb.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"})})]}),(0,s.jsxs)(eV,{onClick:()=>e("dark"),children:["Sombre",(0,s.jsx)(eA,{children:(0,s.jsx)(eN.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"})})]}),(0,s.jsxs)(eV,{onClick:()=>e("system"),children:["Syst\xe8me",(0,s.jsx)(eA,{children:(0,s.jsx)(ew.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"})})]})]})]}),(0,s.jsx)(eP,{}),(0,s.jsx)(eV,{onClick:function(){window.open("mailto:")},children:"Nous contacter"})]})]})})]})]})})};var eL=l(47907);let eG=e=>{let{form:t,label:l,id:a,placeholder:i}=e;return(0,s.jsx)(D.Wi,{control:t.control,name:a,render:e=>{let{field:t}=e;return(0,s.jsx)(D.xJ,{children:(0,s.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,s.jsx)(D.lX,{className:"text-right",children:l}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(D.NI,{children:(0,s.jsx)(R.I,{placeholder:i,...t})})]})]})})}})};var eB=l(87456);let eq=e=>{var t,l;let{user:a,isOpened:i,setIsOpened:n}=e,{createParticipant:r}=I(),{createTeam:d,refetchTeam:c}=C(),{inviteToken:p}=(0,eB.u)(),{joinTeam:f,isJoinLoading:h}=u(),[v,j]=(0,m.useState)(!1),g=w.z.object({firstname:w.z.string().min(1,{message:"Veuillez renseigner votre pr\xe9nom"}),name:w.z.string().min(1,{message:"Veuillez renseigner votre nom"}),email:w.z.string().email({message:"Veuillez renseigner une adresse email valide"}),phone:w.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).min(11,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}).max(14,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}),birthday:w.z.date({required_error:"Veuillez renseigner votre date de naissance",invalid_type_error:"Veuillez renseigner une date de naissance valide"})}),y=(0,N.cI)({resolver:(0,b.F)(g),defaultValues:{firstname:a.firstname,name:a.name,email:a.email,phone:(l=null!==(t=null==a?void 0:a.phone)&&void 0!==t?t:"")?l.startsWith("0")?"+33 ".concat(l.slice(1)):l:"",birthday:a.birthday?(0,ed.Q)(a.birthday):void 0}});return(0,s.jsx)(E.Vq,{open:i,onOpenChange:n,children:(0,s.jsx)(E.cZ,{className:"sm:max-w-[600px]",hideClose:!0,children:(0,s.jsx)(D.l0,{...y,children:(0,s.jsxs)("form",{onSubmit:y.handleSubmit(function(e){let t=e.birthday.toISOString().split("T")[0];j(!0),r({...e,birthday:t},()=>{void 0===p?d({name:"\xc9quipe de ".concat(e.firstname," ").concat(e.name)},()=>{c(),n(!1),j(!1),(0,o.Am)({title:"Votre profil a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s"})}):f(p,()=>{c(),n(!1),j(!1),(0,o.Am)({title:"Vous avez rejoint l'\xe9quipe avec succ\xe8s"})})})}),children:[(0,s.jsxs)(E.fK,{children:[(0,s.jsx)(E.$N,{children:"Informations personnelles"}),(0,s.jsx)(E.Be,{children:"Veuillez renseigner vos information pour pouvoir cr\xe9er une \xe9quipe"})]}),(0,s.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,s.jsx)(eG,{form:y,label:"Pr\xe9nom",id:"firstname",placeholder:"Pr\xe9nom"}),(0,s.jsx)(eG,{form:y,label:"Nom",id:"name",placeholder:"Nom"}),(0,s.jsx)(eG,{form:y,label:"Email",id:"email",placeholder:"inscription@raid.fr"}),(0,s.jsx)(D.Wi,{control:y.control,name:"phone",render:()=>(0,s.jsx)(D.xJ,{children:(0,s.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,s.jsx)(D.lX,{className:"text-right",children:"T\xe9l\xe9phone"}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(N.Qr,{name:"phone",control:y.control,render:e=>{let{field:{onChange:t,value:l}}=e;return(0,s.jsx)(K(),{value:l,onChange:t,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})}),(0,s.jsx)(D.Wi,{control:y.control,name:"birthday",render:e=>{let{field:t}=e;return(0,s.jsx)(D.xJ,{children:(0,s.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,s.jsx)(D.lX,{className:"text-right",children:"Date de naissance"}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(D.zG,{}),(0,s.jsx)(N.Qr,{name:"birthday",control:y.control,render:e=>{let{field:{onChange:l,value:a}}=e;return(0,s.jsx)(ep.M,{date:a,setDate:l,defaultDate:a||(0,ec.B)(new Date,-21),...t})}})]})]})})}})]}),(0,s.jsx)(E.cN,{children:(0,s.jsx)(x.f,{isLoading:v,label:"Valider",type:"submit",className:"w-full mt-4"})})]})})})})};var eZ=l(72936);let eM=e=>{let{isOpened:t,setIsOpened:l}=e,{inviteToken:a,resetInviteToken:i}=(0,eB.u)(),{joinTeam:n,isJoinLoading:r}=u(),{refetchTeam:o}=C();function d(){l(!1),i()}return(0,s.jsx)(E.Vq,{open:t,onOpenChange:l,children:(0,s.jsxs)(E.cZ,{className:"sm:max-w-[600px]",children:[(0,s.jsx)(E.fK,{children:(0,s.jsx)(E.$N,{children:"Rejoindre une \xe9quipe"})}),(0,s.jsx)(eZ.Be,{children:"Vous vous appr\xeatez \xe0 rejoindre une \xe9quipe et quitter votre \xe9quipe actuelle. Toutes vos informations seront transf\xe9r\xe9es \xe0 votre nouvelle \xe9quipe."}),(0,s.jsxs)("div",{className:"flex justify-end mt-2 space-x-4",children:[(0,s.jsx)(g.z,{variant:"outline",onClick:d,disabled:r,children:"Annuler"}),(0,s.jsx)(x.f,{isLoading:r,onClick:function(){void 0!==a&&n(a,()=>{o(),d()})},label:"Rejoindre l'\xe9quipe",className:"w-[140px]"})]})]})})};var eU=()=>{let{isTokenQueried:e,token:t}=(0,c.a)(),{me:l,isFetched:a}=I(),{me:i,isAdmin:n}=(0,S.a)(),{team:r}=C(),[o,d]=(0,m.useState)(!1),u=(0,eL.useSearchParams)(),x=u.get("invite"),{inviteToken:f,setInviteToken:h}=(0,eB.u)(),v=(0,eL.useRouter)();if(null!==x&&f!==x&&(h(x),v.replace("/")),e&&null===t&&v.replace("/login"),n()){let e=u.get("redirect");null!==e?v.replace(e):v.replace("/admin")}return a&&void 0===l&&!o&&d(!0),void 0===f||o||d(!0),(0,s.jsxs)(s.Fragment,{children:[a&&void 0===l&&o&&i&&(0,s.jsx)(eq,{isOpened:o,setIsOpened:d,user:i}),void 0!==f&&(0,s.jsx)(eM,{isOpened:o,setIsOpened:d}),(0,s.jsx)(eE,{}),(0,s.jsxs)("main",{className:"flex flex-col items-center mt-4",children:[(0,s.jsx)("div",{className:"w-full px-14 max-md:px-8",children:(0,s.jsx)(en,{team:r})}),(0,s.jsxs)("div",{className:"grid xl:grid-cols-2 gap-14 w-full p-14 grid-cols-1 max-md:p-8 max-md:gap-8",children:[(0,s.jsx)(ea,{participant:null==r?void 0:r.captain,isCaptain:!0}),(null==r?void 0:r.second)!==null?(0,s.jsx)(ea,{participant:null==r?void 0:r.second,isCaptain:!1}):(0,s.jsx)(p,{team:r})]})]})]})}},42729:function(e,t,l){"use strict";l.d(t,{L:function(){return n}});var a=l(57437),i=l(15671),s=l(77625);let n=e=>{let{info:t,isLoaded:l}=e;return(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:l?(0,a.jsx)("span",{children:t.title}):(0,a.jsx)(s.O,{className:"w-24 h-5"})}),t.unit&&(l?t.unit:(0,a.jsx)(s.O,{className:"w-4 h-4 text-muted-foreground"}))]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:l?t.value:(0,a.jsx)(s.O,{className:"w-[150px] h-6"})}),l?(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.description}):(0,a.jsx)(s.O,{className:"w-[120px] h-4 mt-1"})]})]},t.title)}},10978:function(e,t,l){"use strict";l.d(t,{f:function(){return m}});var a=l(57437);l(2265);var i=l(49108),s=l(37805),n=l(51485),r=l(11205),o=l(1657),d=l(575),c=l(18641),u=l(25890);function m(e){let{className:t,classNames:l,showOutsideDays:m=!0,...x}=e;return(0,a.jsx)(n._W,{showOutsideDays:m,className:(0,o.cn)("p-3",t),locale:r.fr,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium hidden",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,d.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,d.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",caption_dropdowns:"flex gap-1 items-center",...l},components:{IconLeft:e=>{let{...t}=e;return(0,a.jsx)(i.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,a.jsx)(s.Z,{className:"h-4 w-4"})},Dropdown:e=>{var t,l;let{fromDate:i,fromMonth:s,fromYear:o,toDate:d,toMonth:m,toYear:x}=(0,n.kD)(),{goToMonth:p,currentMonth:f}=(0,n.HJ)();if("months"===e.name){let l=Array.from({length:12},(e,t)=>{let l=new Date(0,t);return{value:t.toString(),label:l.toLocaleString("default",{month:"long"})}});return(0,a.jsxs)(c.Ph,{value:null===(t=e.value)||void 0===t?void 0:t.toString(),onValueChange:e=>{let t=new Date(f);t.setMonth(parseInt(e)),p(t)},children:[(0,a.jsx)(c.i4,{children:(0,u.WU)(f,"MMM",{locale:r.fr})}),(0,a.jsx)(c.Bw,{children:l.map(e=>(0,a.jsx)(c.Ql,{value:e.value,children:e.label},e.value))})]})}{let t=o||(null==s?void 0:s.getFullYear())||(null==i?void 0:i.getFullYear()),n=x||(null==m?void 0:m.getFullYear())||(null==d?void 0:d.getFullYear());if(!t||!n)return(0,a.jsx)(a.Fragment,{});{let i=Array.from({length:n-t+1},(e,l)=>{let a=t+l;return{value:a.toString(),label:a.toString()}});return(0,a.jsxs)(c.Ph,{value:null===(l=e.value)||void 0===l?void 0:l.toString(),onValueChange:e=>{let t=new Date(f);t.setFullYear(parseInt(e)),p(t)},children:[(0,a.jsx)(c.i4,{children:f.getFullYear()}),(0,a.jsx)(c.Bw,{children:i.map(e=>(0,a.jsx)(c.Ql,{value:e.value,children:e.label},e.value))})]})}}}},...x})}m.displayName="Calendar"},65706:function(e,t,l){"use strict";l.d(t,{M:function(){return u}});var a=l(57437);l(2265);var i=l(25890),s=l(97307),n=l(11205),r=l(1657),o=l(82012),d=l(575),c=l(10978);function u(e){let{date:t,setDate:l,defaultDate:u,fromDate:m,toDate:x}=e;return(0,a.jsxs)(o.J2,{children:[(0,a.jsx)(o.xo,{asChild:!0,children:(0,a.jsxs)(d.z,{variant:"outline",className:(0,r.cn)("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),type:"button",children:[(0,a.jsx)(s.Z,{className:"mr-2 h-4 w-4"}),t?(0,i.WU)(t,"PPP",{locale:n.fr}):(0,a.jsx)("span",{children:"S\xe9lectionner une date"})]})}),(0,a.jsx)(o.yk,{className:"w-auto p-0",children:(0,a.jsx)(c.f,{mode:"single",selected:t,onSelect:l,locale:n.fr,captionLayout:"dropdown-buttons",fromDate:null!=m?m:new Date(1900),toDate:null!=x?x:new Date,defaultMonth:u,initialFocus:!0})})]})}},80244:function(e,t,l){"use strict";l.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return d},lX:function(){return f},xJ:function(){return p},zG:function(){return v}});var a=l(57437),i=l(2265),s=l(59143),n=l(82670),r=l(1657),o=l(12647);let d=n.RV,c=i.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(n.Qr,{...t})})},m=()=>{let e=i.useContext(c),t=i.useContext(x),{getFieldState:l,formState:a}=(0,n.Gc)(),s=l(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:r}=t;return{id:r,name:e.name,formItemId:"".concat(r,"-form-item"),formDescriptionId:"".concat(r,"-form-item-description"),formMessageId:"".concat(r,"-form-item-message"),...s}},x=i.createContext({}),p=i.forwardRef((e,t)=>{let{className:l,...s}=e,n=i.useId();return(0,a.jsx)(x.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,r.cn)("space-y-2",l),...s})})});p.displayName="FormItem";let f=i.forwardRef((e,t)=>{let{className:l,...i}=e,{error:s,formItemId:n}=m();return(0,a.jsx)(o._,{ref:t,className:(0,r.cn)(s&&"text-destructive",l),htmlFor:n,...i})});f.displayName="FormLabel";let h=i.forwardRef((e,t)=>{let{...l}=e,{error:i,formItemId:n,formDescriptionId:r,formMessageId:o}=m();return(0,a.jsx)(s.g7,{ref:t,id:n,"aria-describedby":i?"".concat(r," ").concat(o):"".concat(r),"aria-invalid":!!i,...l})});h.displayName="FormControl",i.forwardRef((e,t)=>{let{className:l,...i}=e,{formDescriptionId:s}=m();return(0,a.jsx)("p",{ref:t,id:s,className:(0,r.cn)("text-sm text-muted-foreground",l),...i})}).displayName="FormDescription";let v=i.forwardRef((e,t)=>{let{className:l,children:i,...s}=e,{error:n,formMessageId:o}=m(),d=n?String(null==n?void 0:n.message):i;return d?(0,a.jsx)("p",{ref:t,id:o,className:(0,r.cn)("text-sm font-medium text-destructive",l),...s,children:d}):null});v.displayName="FormMessage"},12647:function(e,t,l){"use strict";l.d(t,{_:function(){return d}});var a=l(57437),i=l(2265),s=l(24602),n=l(57742),r=l(1657);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,t)=>{let{className:l,...i}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,r.cn)(o(),l),...i})});d.displayName=s.f.displayName},50326:function(e,t,l){"use strict";l.d(t,{Ei:function(){return g},FF:function(){return v},Tu:function(){return h},aM:function(){return c},bC:function(){return j},sw:function(){return u},ue:function(){return f},yo:function(){return d}});var a=l(57437),i=l(2265),s=l(72936),n=l(57742),r=l(52235),o=l(1657);let d=s.fC,c=s.xz,u=s.x8,m=s.h_,x=i.forwardRef((e,t)=>{let{className:l,...i}=e;return(0,a.jsx)(s.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...i,ref:t})});x.displayName=s.aV.displayName;let p=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",team:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-none"}},defaultVariants:{side:"right"}}),f=i.forwardRef((e,t)=>{let{side:l="right",className:i,children:n,...d}=e;return(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(s.VY,{ref:t,className:(0,o.cn)(p({side:l}),i),...d,children:[n,(0,a.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=s.VY.displayName;let h=e=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...l})};h.displayName="SheetHeader";let v=e=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...l})};v.displayName="SheetFooter";let j=i.forwardRef((e,t)=>{let{className:l,...i}=e;return(0,a.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",l),...i})});j.displayName=s.Dx.displayName;let g=i.forwardRef((e,t)=>{let{className:l,...i}=e;return(0,a.jsx)(s.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",l),...i})});g.displayName=s.dk.displayName},77625:function(e,t,l){"use strict";l.d(t,{O:function(){return s}});var a=l(57437),i=l(1657);function s(e){let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",t),...l})}},91806:function(e,t,l){"use strict";l.d(t,{s:function(){return d}});var a=l(57437),i=l(68855),s=l(29908),n=l(575),r=l(41328),o=l(65400);let d=()=>{let{logout:e}=(0,i.a)(),{setUser:t}=(0,r.L)(),{setParticipant:l}=(0,o.p)();return(0,a.jsxs)(n.z,{variant:"destructive",onClick:function(){t(void 0),l(void 0),e()},className:"w-full",children:[(0,a.jsx)(s.ApJ,{className:"mr-2 h-4 w-4"}),"Se d\xe9connecter"]})}},41391:function(e,t,l){"use strict";l.d(t,{a:function(){return n}});var a=l(425),i=l(41328),s=l(68855);let n=()=>{let{token:e,isTokenExpired:t}=(0,s.a)(),{user:l,setUser:n}=(0,i.L)(),{data:r,isLoading:o}=(0,a.Ayu)({headers:{Authorization:"Bearer ".concat(e)}},{enabled:void 0===l&&!t(),retry:0});return void 0!==r&&void 0===l&&null!==e&&n(r),{me:l,isLoading:o,isAdmin:()=>{var e,t;return null!==(t=null==l?void 0:null===(e=l.groups)||void 0===e?void 0:e.some(e=>"b378b102-4979-4186-8630-d28fe460ee08"===e.id))&&void 0!==t&&t}}}}},function(e){e.O(0,[422,310,651,470,899,169,361,594,122,135,957,184,962,267,971,69,744],function(){return e(e.s=1827)}),_N_E=e.O()}]);