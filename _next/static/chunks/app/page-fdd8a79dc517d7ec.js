(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4654:function(){},1827:function(e,t,a){Promise.resolve().then(a.bind(a,2355))},1657:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(3167),s=a(1367);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}},2355:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return tc}});var r,s,n=a(3827),l=a(5671),i=a(9908),o=a(7147);let d=()=>(0,n.jsx)(l.Zb,{className:"flex w-full m-14",onClick:function(){(0,o.Am)({title:"Profil mis \xe0 jour",description:"Vos informations ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s"})},children:(0,n.jsx)(l.aY,{className:"m-auto",children:(0,n.jsx)(i.b9W,{size:70,className:"text-zinc-400"})})});var c=a(4090),u=a(8248),m=a(9259),f=a(1657);let p=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(u.fC,{ref:t,className:(0,f.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,n.jsx)(u.z$,{className:(0,f.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(m.Z,{className:"h-4 w-4"})})})});function x(e){let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",t),...a})}p.displayName=u.fC.displayName;let h=e=>{let{label:t,value:a}=e,r=e=>"XS"===e||"S"===e||"M"===e||"L"===e||"XL"===e,s=e=>"boolean"==typeof e,l=e=>null===e,i=e=>"string"==typeof(null==e?void 0:e.type),o=e=>"string"==typeof(null==e?void 0:e.name),d=e=>"string"==typeof e;return(0,n.jsxs)("div",{className:"flex flex-row w-full justify-between p-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:t}),(e=>{switch(!0){case s(e):return(0,n.jsx)(p,{checked:e});case r(e):return(0,n.jsx)("div",{className:"bg-zinc-200 px-2 rounded-md",children:(0,n.jsx)("span",{children:e})});case i(e):return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bg-zinc-200 px-2 rounded-md",children:(0,n.jsx)("span",{children:e.name})}),(0,n.jsx)(p,{checked:e.validated})]});case o(e):return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bg-zinc-200 px-2 rounded-md",children:(0,n.jsx)("span",{children:"Fiche de s\xe9curit\xe9"})}),(0,n.jsx)(p,{checked:!0})]});case d(e):return(0,n.jsx)("span",{children:e});case l(e):return(0,n.jsx)("span",{className:"text-zinc-400",children:"Non renseign\xe9"});default:return(0,n.jsx)(x,{className:"w-24 h-6"})}})(a)]})};var g=a(7827);let j=c.forwardRef((e,t)=>{let{className:a,value:r,...s}=e;return(0,n.jsx)(g.fC,{ref:t,className:(0,f.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...s,children:(0,n.jsx)(g.z$,{className:"h-full w-full flex-1 bg-green-700 transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});j.displayName=g.fC.displayName;var v=a(575),y=a(2782),b=a(553),N=a(6416);let w=N.fC,z=N.xz,S=c.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:s=4,...l}=e;return(0,n.jsx)(N.h_,{children:(0,n.jsx)(N.VY,{ref:t,align:r,sideOffset:s,className:(0,f.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});S.displayName=N.VY.displayName;var _=a(3124),C=a(8670),k=a(2936),I=a(2235);let T=k.fC;k.xz;let R=k.h_;k.x8;let F=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(k.aV,{ref:t,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});F.displayName=k.aV.displayName;let P=c.forwardRef((e,t)=>{let{className:a,children:r,hideClose:s,...l}=e;return(0,n.jsxs)(R,{children:[(0,n.jsx)(F,{}),(0,n.jsxs)(k.VY,{ref:t,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,!s&&(0,n.jsxs)(k.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(I.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});P.displayName=k.VY.displayName;let E=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};E.displayName="DialogHeader";let V=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};V.displayName="DialogFooter";let O=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(k.Dx,{ref:t,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});O.displayName=k.Dx.displayName;let A=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(k.dk,{ref:t,className:(0,f.cn)("text-sm text-muted-foreground",a),...r})});A.displayName=k.dk.displayName;let D=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(_.mY,{ref:t,className:(0,f.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r})});D.displayName=_.mY.displayName;let L=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,n.jsx)(C.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,n.jsx)(_.mY.Input,{ref:t,className:(0,f.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});L.displayName=_.mY.Input.displayName,c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(_.mY.List,{ref:t,className:(0,f.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})}).displayName=_.mY.List.displayName;let M=c.forwardRef((e,t)=>(0,n.jsx)(_.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));M.displayName=_.mY.Empty.displayName;let B=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(_.mY.Group,{ref:t,className:(0,f.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});B.displayName=_.mY.Group.displayName,c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(_.mY.Separator,{ref:t,className:(0,f.cn)("-mx-1 h-px bg-border",a),...r})}).displayName=_.mY.Separator.displayName;let Y=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(_.mY.Item,{ref:t,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r})});function q(e){var t;let{values:a,value:r,onChange:s,placeholder:l,isSearchable:i}=e,[o,d]=(0,c.useState)(!1);return(0,n.jsxs)(w,{open:o,onOpenChange:d,children:[(0,n.jsx)(z,{asChild:!0,children:(0,n.jsxs)(v.z,{variant:"outline",role:"combobox","aria-expanded":o,className:(0,f.cn)("w-full justify-between",!r&&"text-muted-foreground"),children:[(0,n.jsx)("span",{children:r?null===(t=a.find(e=>e.value.toLowerCase()===r))||void 0===t?void 0:t.label:l}),(0,n.jsx)(b.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,n.jsx)(S,{className:"w-full p-0",children:(0,n.jsxs)(D,{children:[i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L,{placeholder:l}),(0,n.jsx)(M,{children:"No framework found."})]}),(0,n.jsx)(B,{children:a.map(e=>(0,n.jsxs)(Y,{value:e.value,onSelect:e=>{s(e),d(!1)},className:"w-full text-left",children:[(0,n.jsx)(m.Z,{className:(0,f.cn)("mr-2 h-4 w-4",r===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})})]})}Y.displayName=_.mY.Item.displayName;var U=a(9143),Z=a(2670),W=a(2647);let H=Z.RV,G=c.createContext({}),Q=e=>{let{...t}=e;return(0,n.jsx)(G.Provider,{value:{name:t.name},children:(0,n.jsx)(Z.Qr,{...t})})},X=()=>{let e=c.useContext(G),t=c.useContext(J),{getFieldState:a,formState:r}=(0,Z.Gc)(),s=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...s}},J=c.createContext({}),K=c.forwardRef((e,t)=>{let{className:a,...r}=e,s=c.useId();return(0,n.jsx)(J.Provider,{value:{id:s},children:(0,n.jsx)("div",{ref:t,className:(0,f.cn)("space-y-2",a),...r})})});K.displayName="FormItem";let $=c.forwardRef((e,t)=>{let{className:a,...r}=e,{error:s,formItemId:l}=X();return(0,n.jsx)(W._,{ref:t,className:(0,f.cn)(s&&"text-destructive",a),htmlFor:l,...r})});$.displayName="FormLabel";let ee=c.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:s,formDescriptionId:l,formMessageId:i}=X();return(0,n.jsx)(U.g7,{ref:t,id:s,"aria-describedby":r?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!r,...a})});ee.displayName="FormControl",c.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:s}=X();return(0,n.jsx)("p",{ref:t,id:s,className:(0,f.cn)("text-sm text-muted-foreground",a),...r})}).displayName="FormDescription";let et=c.forwardRef((e,t)=>{let{className:a,children:r,...s}=e,{error:l,formMessageId:i}=X(),o=l?String(null==l?void 0:l.message):r;return o?(0,n.jsx)("p",{ref:t,id:i,className:(0,f.cn)("text-sm font-medium text-destructive",a),...s,children:o}):null});function ea(e){let{label:t,id:a,placeholder:r,form:s,type:l}=e,i=["XS","S","M","L","XL"],o=e=>{switch(l){case"boolean":return(0,n.jsxs)("div",{className:"col-span-4 text-right",children:[(0,n.jsx)(et,{}),(0,n.jsx)(ee,{children:(0,n.jsx)(p,{...e})})]});case"size":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"col-span-3"}),(0,n.jsxs)("div",{className:"col-span-1",children:[(0,n.jsx)(et,{}),(0,n.jsx)(ee,{children:(0,n.jsx)(q,{values:i.map(e=>({value:e,label:e})),placeholder:"Taille",...e})})]})]});case"document":case"securityFile":return(0,n.jsx)(n.Fragment,{});case"string":return(0,n.jsxs)("div",{className:"col-span-4",children:[(0,n.jsx)(et,{}),(0,n.jsx)(ee,{children:(0,n.jsx)(y.I,{placeholder:r,...e})})]});default:return(0,n.jsx)(x,{className:"w-24 h-6"})}};return(0,n.jsx)(Q,{control:s.control,name:a,render:e=>{let{field:a}=e;return(0,n.jsx)(K,{children:(0,n.jsxs)("div",{className:"grid p-2 grid-cols-6",children:[(0,n.jsx)($,{className:"font-semibold text-left my-auto text-md col-span-2",children:t}),o(a)]})})}})}et.displayName="FormMessage",(r=s||(s={})).STRING="string",r.SIZE="size",r.BOOLEAN="boolean",r.DOCUMENT="document",r.SECURITYFILE="securityFile";var er=a(1270),es=a(248);let en=e=>{let{me:t,isEdit:a,setIsEdit:r}=e,i=es.z.object({address:es.z.string().min(1,{message:"Veuillez renseigner votre adresse"}),bikeSize:es.z.string().refine(e=>["XS","S","M","L","XL"].includes(e),{message:"Veuillez renseigner une taille de v\xe9lo valide"}),tShirtSize:es.z.string().refine(e=>["XS","S","M","L","XL"].includes(e),{message:"Veuillez renseigner une taille de t-shirt valide"}),diet:es.z.string(),attestationHonour:es.z.boolean()}),o=(0,Z.cI)({resolver:(0,er.F)(i),defaultValues:{}});return(0,n.jsx)(l.aY,{children:(0,n.jsx)(Z.RV,{...o,children:(0,n.jsxs)("form",{onSubmit:o.handleSubmit(function(e){}),className:"flex flex-col justify-between h-full",children:[a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ea,{label:"Addresse",id:"address",form:o,type:s.STRING}),(0,n.jsx)(ea,{label:"Taille de v\xe9lo",id:"bikeSize",form:o,type:s.SIZE}),(0,n.jsx)(ea,{label:"Taille de t-shirt",id:"tShirtSize",form:o,type:s.SIZE}),(0,n.jsx)(ea,{label:"Situation",id:"situation",form:o,type:s.STRING}),(0,n.jsx)(ea,{label:"R\xe9gime alimentaire",id:"diet",form:o,type:s.STRING}),(0,n.jsx)(ea,{label:"Carte d'identit\xe9",id:"idCard",form:o,type:s.DOCUMENT}),(0,n.jsx)(ea,{label:"Certificat m\xe9dical",id:"medicalCertificate",form:o,type:s.DOCUMENT}),(0,n.jsx)(ea,{label:"Fiche de s\xe9curit\xe9",id:"securityFile",form:o,type:s.SECURITYFILE}),(0,n.jsx)(ea,{label:"Carte \xe9tudiante",id:"studentCard",form:o,type:s.DOCUMENT}),(0,n.jsx)(ea,{label:"Attestation sur l'honneur",id:"attestationHonour",form:o,type:s.BOOLEAN})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h,{label:"Addresse",value:t.address}),(0,n.jsx)(h,{label:"Taille de v\xe9lo",value:t.bike_size}),(0,n.jsx)(h,{label:"Taille de t-shirt",value:t.t_shirt_size}),function(){switch(t.situation){case"otherSchool":return(0,n.jsx)(h,{label:"Situation",value:t.other_school});case"corporatePartner":return(0,n.jsx)(h,{label:"Situation",value:t.company});default:return(0,n.jsx)(h,{label:"Situation",value:t.situation})}}(),(0,n.jsx)(h,{label:"R\xe9gime alimentaire",value:t.diet}),(0,n.jsx)(h,{label:"Carte d'identit\xe9",value:t.id_card}),(0,n.jsx)(h,{label:"Certificat m\xe9dical",value:t.medical_certificate}),(0,n.jsx)(h,{label:"Fiche de s\xe9curit\xe9",value:t.security_file}),(0,n.jsx)(h,{label:"Carte \xe9tudiante",value:t.student_card}),(0,n.jsx)(h,{label:"R\xe8glement du raid",value:t.raid_rules}),(0,n.jsx)(h,{label:"Attestation sur l'honneur",value:t.attestation_on_honour})]}),a&&(0,n.jsx)(v.z,{type:"submit",className:"mt-6",children:"Enregistrer"})]})})})},el=e=>{let{participant:t,isCaptain:a}=e,[r,s]=(0,c.useState)(!1);function o(){s(!r)}return(0,n.jsxs)(l.Zb,{className:"w-full m-14",children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.ll,{children:(null==t?void 0:t.firstname)&&(null==t?void 0:t.firstname)?(null==t?void 0:t.firstname)+" "+(null==t?void 0:t.name):(0,n.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,n.jsx)(x,{className:"w-24 h-8"}),(0,n.jsx)(x,{className:"w-24 h-8"})]})}),(0,n.jsx)(l.SZ,{children:a?"Capitaine":"\xa0"})]}),r?(0,n.jsxs)(v.z,{variant:"destructive",onClick:o,className:"w-[110px]",children:[(0,n.jsx)(i.apv,{className:"mr-2 h-4 w-4"}),"Annuler"]}):(0,n.jsxs)(v.z,{variant:"outline",onClick:o,className:"w-[110px]",children:[(0,n.jsx)(i.LsQ,{className:"mr-2 h-4 w-4"}),"\xc9diter"]})]})}),t&&(0,n.jsx)(en,{me:t,isEdit:r,setIsEdit:s}),!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.eW,{className:"flex flex-col",children:(0,n.jsx)(h,{label:"Paiement",value:null==t?void 0:t.payment})}),(0,n.jsx)(j,{value:(null==t?void 0:t.validation_progress)?100*t.validation_progress:0})]})]})},ei=e=>{var t;let{team:a}=e;return(0,n.jsx)(l.Zb,{className:"w-full mt-5",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,n.jsx)(l.ll,{children:(null==a?void 0:a.name)?(0,n.jsx)("div",{children:null==a?void 0:a.name}):(0,n.jsx)(x,{className:"w-24 h-8"})}),(null==a?void 0:a.number)!==void 0?(0,n.jsx)(l.SZ,{children:(0,n.jsx)("div",{children:"Num\xe9ro d'\xe9quipe: ".concat(null==a?void 0:a.number)})}):(0,n.jsx)(x,{className:"w-24 h-6"}),(null==a?void 0:a.difficulty)!==void 0?(0,n.jsx)(l.SZ,{children:(0,n.jsxs)("div",{children:["Parcours: ",null!==(t=null==a?void 0:a.difficulty)&&void 0!==t?t:"Non renseign\xe9"]})}):(0,n.jsx)(x,{className:"w-24 h-6"})]})}),(0,n.jsx)(j,{value:(null==a?void 0:a.validation_progress)?100*a.validation_progress:0})]})})};var eo=a(7742);let ed=k.fC,ec=k.xz,eu=k.x8,em=k.h_,ef=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(k.aV,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});ef.displayName=k.aV.displayName;let ep=(0,eo.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ex=c.forwardRef((e,t)=>{let{side:a="right",className:r,children:s,...l}=e;return(0,n.jsxs)(em,{children:[(0,n.jsx)(ef,{}),(0,n.jsxs)(k.VY,{ref:t,className:(0,f.cn)(ep({side:a}),r),...l,children:[s,(0,n.jsxs)(k.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,n.jsx)(I.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ex.displayName=k.VY.displayName;let eh=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};eh.displayName="SheetHeader";let eg=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};eg.displayName="SheetFooter";let ej=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(k.Dx,{ref:t,className:(0,f.cn)("text-lg font-semibold text-foreground",a),...r})});ej.displayName=k.Dx.displayName;let ev=c.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(k.dk,{ref:t,className:(0,f.cn)("text-sm text-muted-foreground",a),...r})});ev.displayName=k.dk.displayName;var ey=a(4642),eb=a(568);function eN(e){return{fetcherOptions:{},queryOptions:{},queryKeyFn:ew}}let ew=e=>{let t=eS(e)?e.path.split("/").filter(Boolean).map(t=>ez(t,e.variables.pathParams)):e.path.split("/").filter(Boolean);return eC(e)&&t.push(e.variables.queryParams),e_(e)&&t.push(e.variables.body),t},ez=(e,t)=>e.startsWith("{")&&e.endsWith("}")?t[e.slice(1,-1)]:e,eS=e=>!!e.variables.pathParams,e_=e=>!!e.variables.body,eC=e=>!!e.variables.queryParams;async function ek(e){let{url:t,method:a,body:r,headers:s,pathParams:n,queryParams:l,signal:i}=e;try{var o;let e={"Content-Type":"application/json",...s};e["Content-Type"].toLowerCase().includes("multipart/form-data")&&delete e["Content-Type"];let d=await window.fetch("".concat("https://hyperion-7.dev.eclair.ec-lyon.fr").concat(eI(t,l,n)),{signal:i,method:a.toUpperCase(),body:r?r instanceof FormData?r:JSON.stringify(r):void 0,headers:e});if(!d.ok){let e;try{e=await d.json()}catch(t){e={status:"unknown",payload:t instanceof Error?"Unexpected error (".concat(t.message,")"):"Unexpected error"}}throw e}if(null===(o=d.headers.get("content-type"))||void 0===o?void 0:o.includes("json"))return await d.json();return await d.blob()}catch(e){throw{name:"unknown",message:e instanceof Error?"Network error (".concat(e.message,")"):"Network error",stack:e}}}let eI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new URLSearchParams(t).toString();return r&&(r="?".concat(r)),e.replace(/\{\w*\}/g,e=>a[e.slice(1,-1)])+r},eT=(e,t)=>ek({url:"/users/me",method:"get",...e,signal:t}),eR=(e,t)=>{let{fetcherOptions:a,queryOptions:r,queryKeyFn:s}=eN(t);return ey.a({queryKey:s({path:"/users/me",operationId:"readCurrentUserUsersMeGet",variables:e}),queryFn:t=>{let{signal:r}=t;return eT({...a,...e},r)},...t,...r})},eF=(e,t)=>ek({url:"/raid/participant/{participantId}",method:"get",...e,signal:t}),eP=(e,t)=>{let{fetcherOptions:a,queryOptions:r,queryKeyFn:s}=eN(t);return ey.a({queryKey:s({path:"/raid/participant/{participantId}",operationId:"getParticipantByIdRaidParticipantParticipantIdGet",variables:e}),queryFn:t=>{let{signal:r}=t;return eF({...a,...e},r)},...t,...r})},eE=(e,t)=>ek({url:"/raid/participant/{participantId}",method:"patch",...e,signal:t}),eV=e=>{let{fetcherOptions:t}=eN();return eb.D({mutationFn:e=>eE({...t,...e}),...e})},eO=(e,t)=>ek({url:"/raid/participant",method:"post",...e,signal:t}),eA=e=>{let{fetcherOptions:t}=eN();return eb.D({mutationFn:e=>eO({...t,...e}),...e})},eD=(e,t)=>ek({url:"/raid/team",method:"post",...e,signal:t}),eL=e=>{let{fetcherOptions:t}=eN();return eb.D({mutationFn:e=>eD({...t,...e}),...e})},eM=(e,t)=>ek({url:"/raid/participant/{participantId}/team",method:"get",...e,signal:t}),eB=(e,t)=>{let{fetcherOptions:a,queryOptions:r,queryKeyFn:s}=eN(t);return ey.a({queryKey:s({path:"/raid/participant/{participantId}/team",operationId:"getTeamByParticipantIdRaidParticipantParticipantIdTeamGet",variables:e}),queryFn:t=>{let{signal:r}=t;return eM({...a,...e},r)},...t,...r})};var eY=a(4505),eq=a(7082),eU=a(2020),eZ=a(5249);let eW=(0,eU.Ue)()((0,eZ.mW)((0,eZ.tJ)(e=>({participant:void 0,setParticipant:t=>{e({participant:t})}}),{name:"raid-participant-storage"}))),eH=()=>{let{token:e,userId:t}=(0,eY.u)(),a=(0,eq.NL)(),{participant:r,setParticipant:s}=eW(),{data:n,isLoading:l,isFetched:i,refetch:o}=eP({headers:{Authorization:"Bearer ".concat(e)},pathParams:{participantId:t}},{enabled:null!==t&&void 0===r,retry:0,queryHash:"getParticipantById"}),{mutate:d,isSuccess:c,isPending:u}=eA({}),{mutate:m,isSuccess:f,isPending:p}=eV({});return void 0!==n&&r!==n&&(console.log("setParticipant"),console.log(n),s(n)),{me:r,isLoading:l,isFetched:i,createParticipant:(t,r)=>{d({body:t,headers:{Authorization:"Bearer ".concat(e)}},{onSuccess:()=>{a.invalidateQueries({predicate:e=>"getParticipantById"===e.queryHash}),r()}})},isCreationSuccess:c,isCreationLoading:u,updateParticipant:(a,r)=>{m({body:a,headers:{Authorization:"Bearer ".concat(e)},pathParams:{participantId:t}},{onSettled:()=>{o(),r()}})},isUpdateSuccess:f,isUpdateLoading:p}},eG=e=>{let{form:t,label:a,id:r,placeholder:s}=e;return(0,n.jsx)(Q,{control:t.control,name:r,render:e=>{let{field:t}=e;return(0,n.jsx)(K,{children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsxs)($,{className:"text-left font-bold",children:[a," :"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(et,{}),(0,n.jsx)(ee,{children:(0,n.jsx)(y.I,{placeholder:s,...t})})]})]})})}})};var eQ=a(2328),eX=a(230),eJ=a(5890),eK=a(1205),e$=a(167),e0=a.n(e$),e1=a(7307),e2=a(9108),e4=a(7805),e5=a(6463);function e6(e){let{className:t,classNames:a,showOutsideDays:r=!0,...s}=e;return(0,n.jsx)(e5._W,{showOutsideDays:r,className:(0,f.cn)("p-3",t),locale:eK.fr,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,f.cn)((0,v.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,f.cn)((0,v.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,n.jsx)(e2.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,n.jsx)(e4.Z,{className:"h-4 w-4"})}},...s})}function e7(e){let{date:t,setDate:a,defaultDate:r}=e;return(0,n.jsxs)(w,{children:[(0,n.jsx)(z,{asChild:!0,children:(0,n.jsxs)(v.z,{variant:"outline",className:(0,f.cn)("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[(0,n.jsx)(e1.Z,{className:"mr-2 h-4 w-4"}),t?(0,eJ.WU)(t,"PPP",{locale:eK.fr}):(0,n.jsx)("span",{children:"S\xe9lectionner une date"})]})}),(0,n.jsx)(S,{className:"w-auto p-0",children:(0,n.jsx)(e6,{mode:"single",selected:t,onSelect:a,locale:eK.fr,defaultMonth:r,initialFocus:!0})})]})}e6.displayName="Calendar";let e3=e=>{let{label:t,value:a}=e;return(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsxs)(W._,{htmlFor:t,className:"font-bold",children:[t," :"]}),t?(0,n.jsx)("span",{id:t,children:a}):(0,n.jsx)(x,{className:"w-24 h-6"})]})};var e9=a(7269);let e8=(0,eU.Ue)()((0,eZ.mW)((0,eZ.tJ)(e=>({user:void 0,setUser:t=>{e({user:t})}}),{name:"raid-user-storage"}))),te=()=>{let{logout:e}=(0,e9.a)(),{setUser:t}=e8(),{setParticipant:a}=eW();return(0,n.jsxs)(v.z,{variant:"destructive",onClick:function(){t(void 0),a(void 0),e()},className:"w-full",children:[(0,n.jsx)(i.ApJ,{className:"mr-2 h-4 w-4"}),"Se d\xe9connecter"]})};var tt=a(2177);let ta=e=>{var t,a;let{me:r,isEdit:s,setIsEdit:l,setIsOpen:d}=e,{updateParticipant:c,isUpdateLoading:u}=eH(),m=es.z.object({firstname:es.z.string().min(1,{message:"Veuillez renseigner votre pr\xe9nom"}),name:es.z.string().min(1,{message:"Veuillez renseigner votre nom"}),email:es.z.string().email({message:"Veuillez renseigner une adresse email valide"}),phone:es.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).min(11,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}).max(14,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}),birthday:es.z.date({required_error:"Veuillez renseigner votre date de naissance",invalid_type_error:"Veuillez renseigner une date de naissance valide"})}),f=(0,Z.cI)({resolver:(0,er.F)(m),defaultValues:{firstname:null==r?void 0:r.firstname,name:null==r?void 0:r.name,email:null==r?void 0:r.email,phone:(a=null!==(t=null==r?void 0:r.phone)&&void 0!==t?t:"")?a.startsWith("0")?"+33 ".concat(a.slice(1)):a:"",birthday:(null==r?void 0:r.birthday)?(0,eQ.Q)(null==r?void 0:r.birthday):void 0}});return(0,n.jsx)("div",{className:"h-full",children:(0,n.jsx)(Z.RV,{...f,children:(0,n.jsxs)("form",{onSubmit:f.handleSubmit(function(e){if(!f.formState.isDirty){l(!s);return}let t=e.birthday.toISOString().split("T")[0];c({...e,birthday:t},()=>{(0,o.Am)({title:"Profil mis \xe0 jour",description:"Vos informations ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s"}),l(!s),d(!1)})}),className:"flex flex-col justify-between h-full",children:[(0,n.jsx)("div",{}),s?(0,n.jsxs)("div",{className:"grid w-full items-center gap-6",children:[(0,n.jsx)(eG,{form:f,label:"Pr\xe9nom",id:"firstname",placeholder:"Pr\xe9nom"}),(0,n.jsx)(eG,{form:f,label:"Nom",id:"name",placeholder:"Nom"}),(0,n.jsx)(eG,{form:f,label:"Email",id:"email",placeholder:"inscription@raid.fr"}),(0,n.jsx)(Q,{control:f.control,name:"phone",render:()=>(0,n.jsx)(K,{children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)($,{className:"text-left font-bold",children:"T\xe9l\xe9phone :"}),(0,n.jsxs)("div",{className:"col-span-4",children:[(0,n.jsx)(et,{}),(0,n.jsx)(Z.Qr,{name:"phone",control:f.control,render:e=>{let{field:{onChange:t,value:a}}=e;return(0,n.jsx)(e0(),{value:a,onChange:t,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})}),(0,n.jsx)(Q,{control:f.control,name:"birthday",render:e=>{let{field:t}=e;return(0,n.jsx)(K,{children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)($,{className:"text-left font-bold",children:"Date de naissance :"}),(0,n.jsxs)("div",{className:"col-span-4",children:[(0,n.jsx)(et,{}),(0,n.jsx)(Z.Qr,{name:"birthday",control:f.control,render:e=>{let{field:{onChange:a,value:r}}=e;return(0,n.jsx)(e7,{date:r,setDate:a,defaultDate:r||(0,eX.B)(new Date,-21),...t})}})]})]})})}})]}):(0,n.jsxs)("div",{className:"grid w-full items-center gap-10",children:[(0,n.jsx)(e3,{label:"Pr\xe9nom",value:null==r?void 0:r.firstname}),(0,n.jsx)(e3,{label:"Nom",value:null==r?void 0:r.name}),(0,n.jsx)(e3,{label:"Email",value:null==r?void 0:r.email}),(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)(W._,{htmlFor:"phone",className:"font-bold",children:"T\xe9l\xe9phone :"}),(0,n.jsx)(e0(),{value:null==r?void 0:r.phone,country:"fr",specialLabel:"",disabled:!0})]}),(0,n.jsx)(e3,{label:"Date de naissance",value:(null==r?void 0:r.birthday)?(0,eJ.p6)((0,eQ.Q)(r.birthday),"PPP",{locale:eK.fr}):"Non renseign\xe9"})]}),(0,n.jsx)(eg,{className:"mt-8",children:(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center w-full gap-6",children:[s?(0,n.jsx)(n.Fragment,{children:u?(0,n.jsx)(v.z,{variant:"default",disabled:!0,className:"w-full",children:(0,n.jsx)(tt.BGW,{className:"mr-2 h-4 w-4 animate-spin"})}):(0,n.jsxs)(v.z,{className:"w-full",type:"submit",disabled:!f.formState.isDirty,children:[(0,n.jsx)(i.dZ6,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})}):(0,n.jsx)(n.Fragment,{children:r&&(0,n.jsxs)(v.z,{variant:"outline",onClick:function(){(s&&f.formState.isDirty||!s)&&l(!s)},className:"w-full",children:[(0,n.jsx)(i.LsQ,{className:"mr-2 h-4 w-4"}),"\xc9diter"]})}),s?(0,n.jsxs)(v.z,{variant:"destructive",onClick:()=>f.reset(),className:"w-full",children:[(0,n.jsx)(i.apv,{className:"mr-2 h-4 w-4"}),"Annuler"]}):(0,n.jsx)(eu,{asChild:!0,children:(0,n.jsx)(te,{})})]})})]})})})},tr=()=>{let{me:e}=eH(),[t,a]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1);function l(){t&&s(!1),a(!t)}return(0,n.jsxs)(ed,{open:t,onOpenChange:l,children:[(0,n.jsx)(ec,{asChild:!0,children:(0,n.jsx)(v.z,{variant:"ghost",children:(null==e?void 0:e.firstname)===void 0||(null==e?void 0:e.name)===void 0?(0,n.jsx)(x,{className:"w-24 h-6"}):(0,n.jsx)(n.Fragment,{children:e.firstname+" "+e.name})})}),(0,n.jsxs)(ex,{className:"flex flex-col justify-between",children:[(0,n.jsxs)(eh,{children:[(0,n.jsx)(ej,{children:"Param\xe8tres"}),(0,n.jsx)(ev,{children:"Information du compte"})]}),e?(0,n.jsx)(ta,{me:e,isEdit:r,setIsEdit:s,setIsOpen:l}):(0,n.jsx)(eg,{children:(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center w-full gap-6",children:[(0,n.jsx)("div",{className:"w-full"}),(0,n.jsx)(eu,{asChild:!0,children:(0,n.jsx)(te,{})})]})})]})]})},ts=()=>{let[e,t]=(0,c.useState)(!1);return(0,n.jsx)("div",{className:"px-4 py-5 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8",children:(0,n.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,n.jsxs)("a",{href:"/","aria-label":"Company",title:"Company",className:"inline-flex items-center",children:[(0,n.jsxs)("svg",{className:"w-8 text-deep-purple-accent-400",viewBox:"0 0 24 24",strokeLinejoin:"round",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10",stroke:"currentColor",fill:"none",children:[(0,n.jsx)("rect",{x:"3",y:"1",width:"7",height:"12"}),(0,n.jsx)("rect",{x:"3",y:"17",width:"7",height:"6"}),(0,n.jsx)("rect",{x:"14",y:"1",width:"7",height:"6"}),(0,n.jsx)("rect",{x:"14",y:"11",width:"7",height:"12"})]}),(0,n.jsx)("span",{className:"ml-2 text-xl font-bold tracking-wide text-zinc-700 uppercase",children:"Inscription Raid 2024"})]}),(0,n.jsx)("div",{className:"items-center hidden space-x-8 lg:flex",children:(0,n.jsx)(tr,{})}),(0,n.jsxs)("div",{className:"lg:hidden",children:[(0,n.jsx)("button",{"aria-label":"Open Menu",title:"Open Menu",className:"p-2 -mr-1 transition duration-200 rounded focus:outline-none focus:shadow-outline hover:bg-deep-purple-50 focus:bg-deep-purple-50",onClick:()=>t(!0),children:(0,n.jsxs)("svg",{className:"w-5 text-zinc-600",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{fill:"currentColor",d:"M23,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h22c0.6,0,1,0.4,1,1S23.6,13,23,13z"}),(0,n.jsx)("path",{fill:"currentColor",d:"M23,6H1C0.4,6,0,5.6,0,5s0.4-1,1-1h22c0.6,0,1,0.4,1,1S23.6,6,23,6z"}),(0,n.jsx)("path",{fill:"currentColor",d:"M23,20H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h22c0.6,0,1,0.4,1,1S23.6,20,23,20z"})]})}),e&&(0,n.jsx)("div",{className:"absolute top-0 left-0 w-full",children:(0,n.jsxs)("div",{className:"p-5 bg-white border rounded shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("a",{href:"/","aria-label":"Company",title:"Company",className:"inline-flex items-center",children:[(0,n.jsxs)("svg",{className:"w-8 text-deep-purple-accent-400",viewBox:"0 0 24 24",strokeLinejoin:"round",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10",stroke:"currentColor",fill:"none",children:[(0,n.jsx)("rect",{x:"3",y:"1",width:"7",height:"12"}),(0,n.jsx)("rect",{x:"3",y:"17",width:"7",height:"6"}),(0,n.jsx)("rect",{x:"14",y:"1",width:"7",height:"6"}),(0,n.jsx)("rect",{x:"14",y:"11",width:"7",height:"12"})]}),(0,n.jsx)("span",{className:"ml-2 text-xl font-bold tracking-wide text-zinc-800 uppercase",children:"Inscription Raid 2024"})]})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{"aria-label":"Close Menu",title:"Close Menu",className:"p-2 -mt-2 -mr-2 transition duration-200 rounded hover:bg-zinc-200 focus:bg-zinc-200 focus:outline-none focus:shadow-outline",onClick:()=>t(!1),children:(0,n.jsx)("svg",{className:"w-5 text-zinc-600",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{fill:"currentColor",d:"M19.7,4.3c-0.4-0.4-1-0.4-1.4,0L12,10.6L5.7,4.3c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l6.3,6.3l-6.3,6.3 c-0.4,0.4-0.4,1,0,1.4C4.5,19.9,4.7,20,5,20s0.5-0.1,0.7-0.3l6.3-6.3l6.3,6.3c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3 c0.4-0.4,0.4-1,0-1.4L13.4,12l6.3-6.3C20.1,5.3,20.1,4.7,19.7,4.3z"})})})})]}),(0,n.jsx)(tr,{})]})})]})]})})};var tn=a(7907);let tl=()=>{let{token:e,userId:t}=(0,eY.u)(),a=(0,eq.NL)(),{data:r,isLoading:s}=eB({headers:{Authorization:"Bearer ".concat(e)},pathParams:{participantId:t}},{enabled:null!==t,retry:0,queryHash:"getTeamByParticipantId"}),{mutate:n,isSuccess:l,isPending:i}=eL({});return{team:r,isLoading:s,createTeam:t=>{n({body:t,headers:{Authorization:"Bearer ".concat(e)}},{onSuccess(e,t,r){a.invalidateQueries({predicate:e=>"getTeamByParticipantId"===e.queryHash})}})},isCreationLoading:i,isCreationSuccess:l}},ti=e=>{let{form:t,label:a,id:r,placeholder:s}=e;return(0,n.jsx)(Q,{control:t.control,name:r,render:e=>{let{field:t}=e;return(0,n.jsx)(K,{children:(0,n.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,n.jsx)($,{className:"text-right",children:a}),(0,n.jsxs)("div",{className:"col-span-4",children:[(0,n.jsx)(et,{}),(0,n.jsx)(ee,{children:(0,n.jsx)(y.I,{placeholder:s,...t})})]})]})})}})},to=e=>{var t,a;let{user:r,isOpened:s,setIsOpened:l}=e,{createParticipant:i,me:d,isCreationLoading:c}=eH(),{createTeam:u}=tl();void 0!==d&&(l(!1),(0,o.Am)({title:"Votre profil a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s"}));let m=es.z.object({firstname:es.z.string().min(1,{message:"Veuillez renseigner votre pr\xe9nom"}),name:es.z.string().min(1,{message:"Veuillez renseigner votre nom"}),email:es.z.string().email({message:"Veuillez renseigner une adresse email valide"}),phone:es.z.string({required_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone",invalid_type_error:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone"}).min(11,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}).max(14,{message:"Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone valide"}),birthday:es.z.date({required_error:"Veuillez renseigner votre date de naissance",invalid_type_error:"Veuillez renseigner une date de naissance valide"})}),f=(0,Z.cI)({resolver:(0,er.F)(m),defaultValues:{firstname:r.firstname,name:r.name,email:r.email,phone:(a=null!==(t=null==r?void 0:r.phone)&&void 0!==t?t:"")?a.startsWith("0")?"+33 ".concat(a.slice(1)):a:"",birthday:r.birthday?(0,eQ.Q)(r.birthday):void 0}});return(0,n.jsx)(T,{open:s,onOpenChange:l,children:(0,n.jsx)(P,{className:"sm:max-w-[600px]",hideClose:!0,children:(0,n.jsx)(H,{...f,children:(0,n.jsxs)("form",{onSubmit:f.handleSubmit(function(e){let t=e.birthday.toISOString().split("T")[0];i({...e,birthday:t},()=>{u({name:"\xc9quipe de ".concat(e.firstname," ").concat(e.name)})})}),children:[(0,n.jsxs)(E,{children:[(0,n.jsx)(O,{children:"Informations personnelles"}),(0,n.jsx)(A,{children:"Veuillez renseigner vos information pour pouvoir cr\xe9er une \xe9quipe"})]}),(0,n.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,n.jsx)(ti,{form:f,label:"Pr\xe9nom",id:"firstname",placeholder:"Pr\xe9nom"}),(0,n.jsx)(ti,{form:f,label:"Nom",id:"name",placeholder:"Nom"}),(0,n.jsx)(ti,{form:f,label:"Email",id:"email",placeholder:"inscription@raid.fr"}),(0,n.jsx)(Q,{control:f.control,name:"phone",render:()=>(0,n.jsx)(K,{children:(0,n.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,n.jsx)($,{className:"text-right",children:"T\xe9l\xe9phone"}),(0,n.jsxs)("div",{className:"col-span-4",children:[(0,n.jsx)(et,{}),(0,n.jsx)(Z.Qr,{name:"phone",control:f.control,render:e=>{let{field:{onChange:t,value:a}}=e;return(0,n.jsx)(e0(),{value:a,onChange:t,country:"fr",specialLabel:"",placeholder:"+33 6 06 06 06 06",inputClass:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",dropdownClass:"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"})}})]})]})})}),(0,n.jsx)(Q,{control:f.control,name:"birthday",render:e=>{let{field:t}=e;return(0,n.jsx)(K,{children:(0,n.jsxs)("div",{className:"grid grid-cols-5 items-center gap-4",children:[(0,n.jsx)($,{className:"text-right",children:"Date de naissance"}),(0,n.jsxs)("div",{className:"col-span-4",children:[(0,n.jsx)(et,{}),(0,n.jsx)(Z.Qr,{name:"birthday",control:f.control,render:e=>{let{field:{onChange:a,value:r}}=e;return(0,n.jsx)(e7,{date:r,setDate:a,defaultDate:r||(0,eX.B)(new Date,-21),...t})}})]})]})})}})]}),(0,n.jsx)(V,{children:(0,n.jsx)(v.z,{type:"submit",className:"w-full mt-4",children:c?(0,n.jsx)(tt.BGW,{className:"mr-2 h-4 w-4 animate-spin"}):"Valider"})})]})})})})},td=()=>{let{token:e}=(0,eY.u)(),{user:t,setUser:a}=e8(),{data:r,isLoading:s}=eR({headers:{Authorization:"Bearer ".concat(e)}},{enabled:null!==e&&void 0===t,retry:0});return void 0!==r&&void 0===t&&a(r),{me:t,isLoading:s}};var tc=()=>{let{isTokenQueried:e,token:t}=(0,e9.a)(),{me:a,isFetched:r}=eH(),{me:s}=td(),{team:l}=tl(),[i,o]=(0,c.useState)(!1),u=(0,tn.useRouter)();return e&&null===t&&u.replace("/login"),r&&void 0===a&&!i&&o(!0),(0,n.jsxs)(n.Fragment,{children:[r&&void 0===a&&i&&s&&(0,n.jsx)(to,{isOpened:i,setIsOpened:o,user:s}),(0,n.jsx)(ts,{}),(0,n.jsxs)("main",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-full px-24",children:(0,n.jsx)(ei,{team:l})}),(0,n.jsx)("div",{className:"flex flex-row w-full justify-evenly",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(el,{participant:null==l?void 0:l.captain,isCaptain:!0}),(null==l?void 0:l.second)&&(null==l?void 0:l.second)!==null?(0,n.jsx)(el,{participant:null==l?void 0:l.second,isCaptain:!1}):(0,n.jsx)(d,{})]})})]})]})}},575:function(e,t,a){"use strict";a.d(t,{d:function(){return o},z:function(){return d}});var r=a(3827),s=a(4090),n=a(9143),l=a(7742),i=a(1657);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-red-700 text-destructive-foreground hover:bg-red-700/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:a})),ref:t,...c})});d.displayName="Button"},5671:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var r=a(3827),s=a(4090),n=a(1657);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},2782:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var r=a(3827),s=a(4090),n=a(1657);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"},2647:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var r=a(3827),s=a(4090),n=a(4602),l=a(7742),i=a(1657);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,i.cn)(o(),a),...s})});d.displayName=n.f.displayName},7147:function(e,t,a){"use strict";a.d(t,{Am:function(){return u},pm:function(){return m}});var r=a(4090);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7269:function(e,t,a){"use strict";a.d(t,{a:function(){return p}});var r=a(4090),s=a(7908),n=a(3374),l=a(4642),i=a(4505),o=a(7907),d=a(9079);let c="Titan",u=d.env.NEXT_PUBLIC_REDIRECT_URL||"https://myecl.fr/static.html",m="https://hyperion-7.dev.eclair.ec-lyon.fr",f=["API"],p=()=>{let[e,t]=(0,r.useState)(!1),{token:a,setToken:d,refreshToken:p,setRefreshToken:x}=(0,i.u)(),[h,g]=(0,r.useState)(!1),j=(0,o.useRouter)();async function v(e){let t=new TextEncoder().encode(e);return await crypto.subtle.digest("SHA-256",t).then(e=>btoa(Array.from(new Uint8Array(e)).map(e=>String.fromCharCode(e)).join("")).replace(/\+/g,"-").replace(/\//g,"_"))}async function y(e){let a=(0,n.stringify)(e),r=await s.Z.post("".concat(m,"/auth/token"),a,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});if(200!=r.status){t(!1);return}let l=r.data;t(!1),d(l.access_token),x(l.refresh_token)}async function b(){return(console.log("refreshing tokens"),p)?(await y({grant_type:"refresh_token",client_id:c,refresh_token:p}),p):null}function N(){return!!a&&(a?JSON.parse(atob(a.split(".")[1])).exp:0)<Math.floor(Date.now()/1e3)}async function w(e){let a=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=a.length,s=crypto.getRandomValues(new Uint8Array(e)),n=0;n<e;n++)t+=a.charAt(Math.floor(s[n]/e*r));return t}(128),r="".concat(m,"/auth/authorize?client_id=").concat(c,"&response_type=code&scope=").concat(f.join(" "),"&redirect_uri=").concat(u,"&code_challenge=").concat(await v(a),"&code_challenge_method=S256");t(!0);let s=window.outerHeight/2+window.screenY-450,n=window.outerWidth/2+window.screenX-400;e=window.open(r,"Hyperion","height=".concat(900,",width=").concat(800,",top=").concat(s,",left=").concat(n,",scrollbars=yes"));let l=setInterval(()=>{try{e&&e.closed&&(clearInterval(l),t(!1))}catch(e){console.error(e)}},1e3);window.addEventListener("message",t=>{let r=t.data;null!=r&&r.includes("code=")&&function(t){let r=new URL(t).searchParams.get("code");e&&(e.close(),e=null),y({grant_type:"authorization_code",client_id:c,code:r,redirect_uri:u,code_verifier:a})}(r)})}async function z(){return t(!0),null!==a?N()?b():(d(a),t(!1)):(t(!1),j.replace("/login")),g(!0),a}return(0,l.a)({queryKey:["getTokenFromStorage"],queryFn:z,retry:0}),(0,l.a)({queryKey:["refreshToken"],queryFn:b,retry:0,enabled:N()}),{getTokenFromRequest:w,isLoading:e,token:a,isTokenQueried:h,logout:function(){d(null),x(null),g(!0),j.replace("/login")}}}},4505:function(e,t,a){"use strict";a.d(t,{u:function(){return n}});var r=a(2020),s=a(5249);let n=(0,r.Ue)()((0,s.mW)((0,s.tJ)(e=>({token:null,refreshToken:null,userId:null,setToken:t=>{let a=t?JSON.parse(atob(t.split(".")[1])).sub:null;e({token:t,userId:a})},setRefreshToken:t=>{e({refreshToken:t})}}),{name:"token-storage"})))}},function(e){e.O(0,[310,422,936,470,904,693,314,971,69,744],function(){return e(e.s=1827)}),_N_E=e.O()}]);